{"version":3,"file":"static/js/7045.14b69a05.chunk.js","mappings":"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","sources":["pages/Group/Create.tsx","../node_modules/@mui/icons-material/Save.js"],"sourcesContent":["import { yupResolver } from '@hookform/resolvers/yup'\nimport SaveIcon from '@mui/icons-material/Save'\nimport LoadingButton from '@mui/lab/LoadingButton'\nimport { Autocomplete, Box, Stack, TextField, Typography } from '@mui/material'\nimport { GroupApi } from 'API/group'\nimport { useEffect, useState } from 'react'\nimport { SubmitHandler, useForm } from 'react-hook-form'\nimport { useNavigate } from 'react-router-dom'\nimport { useAppDispatch, useAppSelector } from 'redux/hooks'\nimport { UIAction } from 'redux/slices/UI'\nimport * as yup from 'yup'\n\ninterface FormInput {\n\tname: string\n\tpermission: string\n\tdescription: string\n}\nexport default function CreateGroup() {\n\tconst dispatch = useAppDispatch()\n\tconst nav = useNavigate()\n\tconst [loading, setLoading] = useState(false)\n\tconst list = useAppSelector((s) => s.Group.list)\n\tconst [createdId, setCreatedId] = useState(0)\n\tconst schema = yup.object({\n\t\tname: yup.string().required(),\n\t})\n\tconst {\n\t\tregister,\n\t\thandleSubmit,\n\t\tsetValue,\n\t\tgetValues,\n\t\tformState: { errors },\n\t} = useForm<FormInput>({\n\t\tresolver: yupResolver(schema),\n\t\tdefaultValues: {\n\t\t\tname: '',\n\t\t\tpermission: '0000000',\n\t\t\tdescription: '',\n\t\t},\n\t})\n\tuseEffect(() => {\n\t\tif (list.find((f) => f.id === createdId)) {\n\t\t\tnav(`/group/${createdId}`)\n\t\t}\n\t}, [createdId, list, nav])\n\n\tconst onSubmit: SubmitHandler<FormInput> = async ({ name, permission, description }) => {\n\t\ttry {\n\t\t\tsetLoading(true)\n\t\t\tconst { id, message, error } = await GroupApi.create({ name, permission, description })\n\t\t\tdispatch(\n\t\t\t\tUIAction.addGlobalMessage({\n\t\t\t\t\tmessage,\n\t\t\t\t\ttype: error ? 'error' : 'success',\n\t\t\t\t})\n\t\t\t)\n\t\t\tsetCreatedId(id)\n\t\t} catch (error) {\n\t\t} finally {\n\t\t\tsetLoading(false)\n\t\t}\n\t}\n\treturn (\n\t\t<Stack>\n\t\t\t<Stack direction=\"row\" alignItems=\"center\" justifyContent=\"space-between\">\n\t\t\t\t<Typography\n\t\t\t\t\tcolor=\"primary.dark\"\n\t\t\t\t\tsx={{\n\t\t\t\t\t\tfontWeight: 600,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t組織作成\n\t\t\t\t</Typography>\n\t\t\t</Stack>\n\t\t\t<Stack gap={2} maxWidth=\"sm\" component=\"form\" noValidate autoComplete=\"off\" onSubmit={handleSubmit(onSubmit)}>\n\t\t\t\t<TextField\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\trequired\n\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\tautoFocus\n\t\t\t\t\tfullWidth\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tlabel={'名前'}\n\t\t\t\t\t{...register('name')}\n\t\t\t\t\terror={'name' in errors}\n\t\t\t\t/>\n\t\t\t\t<Autocomplete\n\t\t\t\t\tdisablePortal\n\t\t\t\t\toptions={permissions}\n\t\t\t\t\tfullWidth\n\t\t\t\t\tgetOptionLabel={(opt) => opt.text}\n\t\t\t\t\tvalue={permissions.find((f) => f.value === getValues('permission'))}\n\t\t\t\t\trenderInput={(params) => (\n\t\t\t\t\t\t<TextField {...params} label={'権限'} size=\"small\" variant=\"outlined\" error={'permission' in errors} />\n\t\t\t\t\t)}\n\t\t\t\t\tonChange={(_event, permission) => {\n\t\t\t\t\t\tpermission &&\n\t\t\t\t\t\t\tsetValue('permission', permission.value, {\n\t\t\t\t\t\t\t\tshouldValidate: true,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\tfullWidth\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tlabel={'説明'}\n\t\t\t\t\t{...register('description')}\n\t\t\t\t\terror={'description' in errors}\n\t\t\t\t/>\n\t\t\t\t<Box>\n\t\t\t\t\t<LoadingButton\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tdisabled={Object.keys(errors).length > 0}\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\tloadingPosition=\"start\"\n\t\t\t\t\t\tstartIcon={<SaveIcon />}\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t>\n\t\t\t\t\t\t作成する\n\t\t\t\t\t</LoadingButton>\n\t\t\t\t</Box>\n\t\t\t</Stack>\n\t\t</Stack>\n\t)\n}\n\nconst permissions = [\n\t{\n\t\ttext: '後で設定',\n\t\tvalue: '0000000',\n\t},\n\t{\n\t\ttext: '消費者庁',\n\t\tvalue: '7777770',\n\t},\n\t{\n\t\ttext: '消費者団体',\n\t\tvalue: '0070000',\n\t},\n]\n","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z\"\n}), 'Save');\nexports.default = _default;"],"names":["CreateGroup","dispatch","useAppDispatch","nav","useNavigate","_useState","useState","_useState2","_slicedToArray","loading","setLoading","list","useAppSelector","s","Group","_useState3","_useState4","createdId","setCreatedId","schema","yup","name","required","_useForm","useForm","resolver","yupResolver","defaultValues","permission","description","register","handleSubmit","setValue","getValues","errors","formState","useEffect","find","f","id","concat","onSubmit","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_ref","_yield$GroupApi$creat","message","error","wrap","_context","prev","next","GroupApi","create","sent","UIAction","addGlobalMessage","type","t0","finish","stop","_x","apply","arguments","_jsxs","Stack","children","_jsx","direction","alignItems","justifyContent","Typography","color","sx","fontWeight","gap","maxWidth","component","noValidate","autoComplete","TextField","_objectSpread","variant","margin","autoFocus","fullWidth","size","label","Autocomplete","disablePortal","options","permissions","getOptionLabel","opt","text","value","renderInput","params","onChange","_event","shouldValidate","Box","LoadingButton","disabled","Object","keys","length","loadingPosition","startIcon","SaveIcon","_interopRequireDefault","require","exports","_createSvgIcon","_jsxRuntime","_default","default","jsx","d"],"sourceRoot":""}