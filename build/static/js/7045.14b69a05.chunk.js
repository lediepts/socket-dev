"use strict";(self.webpackChunkcaa_client=self.webpackChunkcaa_client||[]).push([[7045],{77045:function(e,n,t){t.r(n),t.d(n,{default:function(){return y}});var r=t(1413),i=t(74165),a=t(15861),s=t(29439),o=t(44695),u=t(53329),l=t(39709),c=t(53767),d=t(20890),f=t(27391),p=t(5712),m=t(68870),v=t(28e3),h=t(72791),Z=t(61134),x=t(57689),g=t(48367),b=t(94604),j=t(81724),k=t(80184);function y(){var e=(0,g.TL)(),n=(0,x.s0)(),t=(0,h.useState)(!1),y=(0,s.Z)(t,2),V=y[0],w=y[1],z=(0,g.CG)((function(e){return e.Group.list})),C=(0,h.useState)(0),W=(0,s.Z)(C,2),I=W[0],G=W[1],_=j.Ry({name:j.Z_().required()}),q=(0,Z.cI)({resolver:(0,o.X)(_),defaultValues:{name:"",permission:"0000000",description:""}}),H=q.register,L=q.handleSubmit,M=q.setValue,O=q.getValues,P=q.formState.errors;(0,h.useEffect)((function(){z.find((function(e){return e.id===I}))&&n("/group/".concat(I))}),[I,z,n]);var T=function(){var n=(0,a.Z)((0,i.Z)().mark((function n(t){var r,a,s,o,u,l,c;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.name,a=t.permission,s=t.description,n.prev=1,w(!0),n.next=5,v.S.create({name:r,permission:a,description:s});case 5:o=n.sent,u=o.id,l=o.message,c=o.error,e(b.T9.addGlobalMessage({message:l,type:c?"error":"success"})),G(u),n.next=15;break;case 13:n.prev=13,n.t0=n.catch(1);case 15:return n.prev=15,w(!1),n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[1,13,15,18]])})));return function(e){return n.apply(this,arguments)}}();return(0,k.jsxs)(c.Z,{children:[(0,k.jsx)(c.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:(0,k.jsx)(d.Z,{color:"primary.dark",sx:{fontWeight:600},children:"\u7d44\u7e54\u4f5c\u6210"})}),(0,k.jsxs)(c.Z,{gap:2,maxWidth:"sm",component:"form",noValidate:!0,autoComplete:"off",onSubmit:L(T),children:[(0,k.jsx)(f.Z,(0,r.Z)((0,r.Z)({variant:"outlined",required:!0,margin:"dense",autoFocus:!0,fullWidth:!0,size:"small",label:"\u540d\u524d"},H("name")),{},{error:"name"in P})),(0,k.jsx)(p.Z,{disablePortal:!0,options:S,fullWidth:!0,getOptionLabel:function(e){return e.text},value:S.find((function(e){return e.value===O("permission")})),renderInput:function(e){return(0,k.jsx)(f.Z,(0,r.Z)((0,r.Z)({},e),{},{label:"\u6a29\u9650",size:"small",variant:"outlined",error:"permission"in P}))},onChange:function(e,n){n&&M("permission",n.value,{shouldValidate:!0})}}),(0,k.jsx)(f.Z,(0,r.Z)((0,r.Z)({variant:"outlined",margin:"dense",fullWidth:!0,size:"small",label:"\u8aac\u660e"},H("description")),{},{error:"description"in P})),(0,k.jsx)(m.Z,{children:(0,k.jsx)(l.Z,{variant:"outlined",disabled:Object.keys(P).length>0,loading:V,loadingPosition:"start",startIcon:(0,k.jsx)(u.Z,{}),type:"submit",children:"\u4f5c\u6210\u3059\u308b"})})]})]})}var S=[{text:"\u5f8c\u3067\u8a2d\u5b9a",value:"0000000"},{text:"\u6d88\u8cbb\u8005\u5e81",value:"7777770"},{text:"\u6d88\u8cbb\u8005\u56e3\u4f53",value:"0070000"}]},53329:function(e,n,t){var r=t(64836);n.Z=void 0;var i=r(t(45649)),a=t(80184),s=(0,i.default)((0,a.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");n.Z=s}}]);
//# sourceMappingURL=7045.14b69a05.chunk.js.map