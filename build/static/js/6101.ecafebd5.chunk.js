"use strict";(self.webpackChunkcaa_client=self.webpackChunkcaa_client||[]).push([[6101],{16101:function(e,t,a){a.r(t),a.d(t,{default:function(){return S}});var n=a(53767),r=a(94721),i=a(20890),o=a(64789),s=a(72791),c=a(57689),d=a(48367),l=a(29439),u=a(68096),p=a(30829),m=a(64415),v=a(23786),f=a(36151),g=a(80184);function Z(){var e=(0,d.aC)().onLoginWithMsal,t=(0,d.CG)((function(e){return e.UI.allowDomains})),a=(0,s.useState)((function(){var e=localStorage.getItem("domainId");return e?parseInt(e):t[0].id||1})),n=(0,l.Z)(a,2),r=n[0],i=n[1],o=t.find((function(e){return e.id===r}));return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(u.Z,{sx:{m:1,minWidth:120},size:"small",children:[(0,g.jsx)(p.Z,{children:"Azure domain"}),(0,g.jsx)(m.Z,{value:r,label:"Azure domain",onChange:function(e){i(parseInt("".concat(e.target.value)))},children:t.map((function(e){return(0,g.jsx)(v.Z,{value:e.id,children:e.displayName},e.id)}))})]}),!!o&&(0,g.jsxs)(f.Z,{variant:"contained",onClick:function(){sessionStorage.clear(),localStorage.setItem("domainId",o.id.toString()),localStorage.setItem("clientId",o.clientId),localStorage.setItem("tenantId",o.tenantId),e({clientId:o.clientId,tenantId:o.tenantId})},children:["Login with 365 Account(",o.name,")"]})]})}var b=a(1413),h=a(74165),x=a(15861),I=a(44695),y=a(27391),C=a(61134),j=a(81724);function w(){var e=(0,d.aC)().loginWithID,t=j.Ry({email:j.Z_().required(),password:j.Z_().required()}),a=(0,C.cI)({resolver:(0,I.X)(t),defaultValues:{}}),r=a.register,i=a.handleSubmit,o=a.formState.errors,s=function(){var t=(0,x.Z)((0,h.Z)().mark((function t(a){var n,r;return(0,h.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.email,r=a.password,t.prev=1,t.next=4,e(n,r);case 4:t.next=8;break;case 6:t.prev=6,t.t0=t.catch(1);case 8:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}();return(0,g.jsxs)(n.Z,{gap:1,component:"form",noValidate:!0,autoComplete:"off",onSubmit:i(s),children:[(0,g.jsx)(y.Z,(0,b.Z)((0,b.Z)({variant:"outlined",required:!0,margin:"dense",fullWidth:!0,size:"small",label:"ID",placeholder:"ex:example@caa.go.jp"},r("email")),{},{error:"email"in o})),(0,g.jsx)(y.Z,(0,b.Z)((0,b.Z)({variant:"outlined",required:!0,margin:"dense",fullWidth:!0,size:"small",label:"\u30d1\u30b9\u30ef\u30fc\u30c9",autoComplete:"on",type:"password"},r("password")),{},{error:"password"in o})),(0,g.jsx)(f.Z,{variant:"outlined",type:"submit",children:"Login"})]})}function S(){var e=(0,c.TH)().hash,t=(0,d.aC)(),a=t.onLoginWithMsal,l=t.loading;return(0,s.useEffect)((function(){var t=localStorage.getItem("clientId"),n=localStorage.getItem("tenantId");return e&&e.includes("code=")&&t&&n&&a({tenantId:n,clientId:t}),function(){}}),[e,a]),l?(0,g.jsx)(o.g,{}):(0,g.jsx)(n.Z,{sx:{minHeight:"80vh",justifyContent:"center",alignItems:"center"},children:(0,g.jsxs)(n.Z,{gap:2,sx:{border:"1px solid #eee",p:4,width:400,mx:"auto",borderRadius:2,boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[(0,g.jsx)(Z,{}),(0,g.jsx)(r.Z,{}),(0,g.jsx)(i.Z,{children:"\u307e\u305f"}),(0,g.jsx)(w,{})]})})}},96014:function(e,t,a){a.d(t,{f:function(){return i}});var n=a(75878),r=a(21217);function i(e){return(0,r.Z)("MuiListItemIcon",e)}var o=(0,n.Z)("MuiListItemIcon",["root","alignItemsFlexStart"]);t.Z=o},29849:function(e,t,a){a.d(t,{L:function(){return i}});var n=a(75878),r=a(21217);function i(e){return(0,r.Z)("MuiListItemText",e)}var o=(0,n.Z)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);t.Z=o},23786:function(e,t,a){a.d(t,{Z:function(){return S}});var n=a(4942),r=a(63366),i=a(87462),o=a(72791),s=a(28182),c=a(94419),d=a(12065),l=a(66934),u=a(31402),p=a(66199),m=a(95080),v=a(40162),f=a(42071),g=a(90133),Z=a(96014),b=a(29849),h=a(75878),x=a(21217);function I(e){return(0,x.Z)("MuiMenuItem",e)}var y=(0,h.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),C=a(80184),j=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],w=(0,l.ZP)(m.Z,{shouldForwardProp:function(e){return(0,l.FO)(e)||"classes"===e},name:"MuiMenuItem",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState;return[t.root,a.dense&&t.dense,a.divider&&t.divider,!a.disableGutters&&t.gutters]}})((function(e){var t,a=e.theme,r=e.ownerState;return(0,i.Z)({},a.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!r.disableGutters&&{paddingLeft:16,paddingRight:16},r.divider&&{borderBottom:"1px solid ".concat((a.vars||a).palette.divider),backgroundClip:"padding-box"},(t={"&:hover":{textDecoration:"none",backgroundColor:(a.vars||a).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},(0,n.Z)(t,"&.".concat(y.selected),(0,n.Z)({backgroundColor:a.vars?"rgba(".concat(a.vars.palette.primary.mainChannel," / ").concat(a.vars.palette.action.selectedOpacity,")"):(0,d.Fq)(a.palette.primary.main,a.palette.action.selectedOpacity)},"&.".concat(y.focusVisible),{backgroundColor:a.vars?"rgba(".concat(a.vars.palette.primary.mainChannel," / calc(").concat(a.vars.palette.action.selectedOpacity," + ").concat(a.vars.palette.action.focusOpacity,"))"):(0,d.Fq)(a.palette.primary.main,a.palette.action.selectedOpacity+a.palette.action.focusOpacity)})),(0,n.Z)(t,"&.".concat(y.selected,":hover"),{backgroundColor:a.vars?"rgba(".concat(a.vars.palette.primary.mainChannel," / calc(").concat(a.vars.palette.action.selectedOpacity," + ").concat(a.vars.palette.action.hoverOpacity,"))"):(0,d.Fq)(a.palette.primary.main,a.palette.action.selectedOpacity+a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:a.vars?"rgba(".concat(a.vars.palette.primary.mainChannel," / ").concat(a.vars.palette.action.selectedOpacity,")"):(0,d.Fq)(a.palette.primary.main,a.palette.action.selectedOpacity)}}),(0,n.Z)(t,"&.".concat(y.focusVisible),{backgroundColor:(a.vars||a).palette.action.focus}),(0,n.Z)(t,"&.".concat(y.disabled),{opacity:(a.vars||a).palette.action.disabledOpacity}),(0,n.Z)(t,"& + .".concat(g.Z.root),{marginTop:a.spacing(1),marginBottom:a.spacing(1)}),(0,n.Z)(t,"& + .".concat(g.Z.inset),{marginLeft:52}),(0,n.Z)(t,"& .".concat(b.Z.root),{marginTop:0,marginBottom:0}),(0,n.Z)(t,"& .".concat(b.Z.inset),{paddingLeft:36}),(0,n.Z)(t,"& .".concat(Z.Z.root),{minWidth:36}),t),!r.dense&&(0,n.Z)({},a.breakpoints.up("sm"),{minHeight:"auto"}),r.dense&&(0,i.Z)({minHeight:32,paddingTop:4,paddingBottom:4},a.typography.body2,(0,n.Z)({},"& .".concat(Z.Z.root," svg"),{fontSize:"1.25rem"})))})),S=o.forwardRef((function(e,t){var a=(0,u.Z)({props:e,name:"MuiMenuItem"}),n=a.autoFocus,d=void 0!==n&&n,l=a.component,m=void 0===l?"li":l,g=a.dense,Z=void 0!==g&&g,b=a.divider,h=void 0!==b&&b,x=a.disableGutters,y=void 0!==x&&x,S=a.focusVisibleClassName,k=a.role,M=void 0===k?"menuitem":k,O=a.tabIndex,L=a.className,F=(0,r.Z)(a,j),V=o.useContext(p.Z),q=o.useMemo((function(){return{dense:Z||V.dense||!1,disableGutters:y}}),[V.dense,Z,y]),G=o.useRef(null);(0,v.Z)((function(){d&&G.current&&G.current.focus()}),[d]);var z,N=(0,i.Z)({},a,{dense:q.dense,divider:h,disableGutters:y}),R=function(e){var t=e.disabled,a=e.dense,n=e.divider,r=e.disableGutters,o=e.selected,s=e.classes,d={root:["root",a&&"dense",t&&"disabled",!r&&"gutters",n&&"divider",o&&"selected"]},l=(0,c.Z)(d,I,s);return(0,i.Z)({},s,l)}(a),T=(0,f.Z)(G,t);return a.disabled||(z=void 0!==O?O:-1),(0,C.jsx)(p.Z.Provider,{value:q,children:(0,C.jsx)(w,(0,i.Z)({ref:T,role:M,tabIndex:z,component:m,focusVisibleClassName:(0,s.Z)(R.focusVisible,S),className:(0,s.Z)(R.root,L)},F,{ownerState:N,classes:R}))})}))}}]);
//# sourceMappingURL=6101.ecafebd5.chunk.js.map