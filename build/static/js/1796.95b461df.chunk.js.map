{"version":3,"file":"static/js/1796.95b461df.chunk.js","mappings":"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","sources":["pages/Mailing/Create.tsx","../node_modules/@mui/icons-material/Save.js"],"sourcesContent":["import { yupResolver } from '@hookform/resolvers/yup'\nimport SaveIcon from '@mui/icons-material/Save'\nimport LoadingButton from '@mui/lab/LoadingButton'\nimport { Box, Stack, TextField, Typography } from '@mui/material'\nimport { MailingApi } from 'API/mailing'\nimport { useEffect, useState } from 'react'\nimport { SubmitHandler, useForm } from 'react-hook-form'\nimport { useNavigate } from 'react-router-dom'\nimport { useAppDispatch, useAppSelector } from 'redux/hooks'\nimport { UIAction } from 'redux/slices/UI'\nimport * as yup from 'yup'\n\ninterface FormInput {\n\tname: string\n\ttype: string\n}\nexport default function CreateMailing() {\n\tconst dispatch = useAppDispatch()\n\tconst nav = useNavigate()\n\tconst [loading, setLoading] = useState(false)\n\tconst list = useAppSelector((s) => s.Mailing.list)\n\tconst [createdId, setCreatedId] = useState(0)\n\tconst schema = yup.object({\n\t\tname: yup.string().required(),\n\t})\n\tconst {\n\t\tregister,\n\t\thandleSubmit,\n\t\tformState: { errors },\n\t} = useForm<FormInput>({\n\t\tresolver: yupResolver(schema),\n\t\tdefaultValues: {\n\t\t\tname: '',\n\t\t\ttype: 'system',\n\t\t},\n\t})\n\tuseEffect(() => {\n\t\tif (list.find((f) => f.id === createdId)) {\n\t\t\tnav(`/mailing/${createdId}`)\n\t\t}\n\t}, [createdId, list, nav])\n\n\tconst onSubmit: SubmitHandler<FormInput> = async ({ name, type }) => {\n\t\ttry {\n\t\t\tsetLoading(true)\n\t\t\tconst { id, message, error } = await MailingApi.create({ name, type })\n\t\t\tdispatch(\n\t\t\t\tUIAction.addGlobalMessage({\n\t\t\t\t\tmessage,\n\t\t\t\t\ttype: error ? 'error' : 'success',\n\t\t\t\t})\n\t\t\t)\n\t\t\tsetCreatedId(id)\n\t\t} catch (error) {\n\t\t} finally {\n\t\t\tsetLoading(false)\n\t\t}\n\t}\n\treturn (\n\t\t<Stack>\n\t\t\t<Stack direction=\"row\" alignItems=\"center\" justifyContent=\"space-between\">\n\t\t\t\t<Typography\n\t\t\t\t\tcolor=\"primary.dark\"\n\t\t\t\t\tsx={{\n\t\t\t\t\t\tfontWeight: 600,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tメールグループ作成\n\t\t\t\t</Typography>\n\t\t\t</Stack>\n\t\t\t<Stack gap={2} maxWidth=\"sm\" component=\"form\" noValidate autoComplete=\"off\" onSubmit={handleSubmit(onSubmit)}>\n\t\t\t\t<TextField\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\trequired\n\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\tautoFocus\n\t\t\t\t\tfullWidth\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tlabel={'名前'}\n\t\t\t\t\t{...register('name')}\n\t\t\t\t\terror={'name' in errors}\n\t\t\t\t/>\n\t\t\t\t<Box>\n\t\t\t\t\t<LoadingButton\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tdisabled={Object.keys(errors).length > 0}\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\tloadingPosition=\"start\"\n\t\t\t\t\t\tstartIcon={<SaveIcon />}\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t>\n\t\t\t\t\t\t作成する\n\t\t\t\t\t</LoadingButton>\n\t\t\t\t</Box>\n\t\t\t</Stack>\n\t\t</Stack>\n\t)\n}\n","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z\"\n}), 'Save');\nexports.default = _default;"],"names":["CreateMailing","dispatch","useAppDispatch","nav","useNavigate","_useState","useState","_useState2","_slicedToArray","loading","setLoading","list","useAppSelector","s","Mailing","_useState3","_useState4","createdId","setCreatedId","schema","yup","name","required","_useForm","useForm","resolver","yupResolver","defaultValues","type","register","handleSubmit","errors","formState","useEffect","find","f","id","concat","onSubmit","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_ref","_yield$MailingApi$cre","message","error","wrap","_context","prev","next","MailingApi","create","sent","UIAction","addGlobalMessage","t0","finish","stop","_x","apply","arguments","_jsxs","Stack","children","_jsx","direction","alignItems","justifyContent","Typography","color","sx","fontWeight","gap","maxWidth","component","noValidate","autoComplete","TextField","_objectSpread","variant","margin","autoFocus","fullWidth","size","label","Box","LoadingButton","disabled","Object","keys","length","loadingPosition","startIcon","SaveIcon","_interopRequireDefault","require","exports","_createSvgIcon","_jsxRuntime","_default","default","jsx","d"],"sourceRoot":""}