"use strict";(self.webpackChunkcaa_client=self.webpackChunkcaa_client||[]).push([[1796],{31796:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var r=n(1413),a=n(74165),s=n(15861),i=n(29439),c=n(44695),u=n(53329),o=n(39709),l=n(53767),d=n(20890),f=n(27391),m=n(68870),p=n(40341),h=n(72791),v=n(61134),Z=n(57689),g=n(48367),x=n(94604),b=n(81724),j=n(80184);function y(){var e=(0,g.TL)(),t=(0,Z.s0)(),n=(0,h.useState)(!1),y=(0,i.Z)(n,2),k=y[0],w=y[1],S=(0,g.CG)((function(e){return e.Mailing.list})),C=(0,h.useState)(0),z=(0,i.Z)(C,2),V=z[0],I=z[1],M=b.Ry({name:b.Z_().required()}),W=(0,v.cI)({resolver:(0,c.X)(M),defaultValues:{name:"",type:"system"}}),_=W.register,q=W.handleSubmit,G=W.formState.errors;(0,h.useEffect)((function(){S.find((function(e){return e.id===V}))&&t("/mailing/".concat(V))}),[V,S,t]);var H=function(){var t=(0,s.Z)((0,a.Z)().mark((function t(n){var r,s,i,c,u,o;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.name,s=n.type,t.prev=1,w(!0),t.next=5,p.g.create({name:r,type:s});case 5:i=t.sent,c=i.id,u=i.message,o=i.error,e(x.T9.addGlobalMessage({message:u,type:o?"error":"success"})),I(c),t.next=15;break;case 13:t.prev=13,t.t0=t.catch(1);case 15:return t.prev=15,w(!1),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[1,13,15,18]])})));return function(e){return t.apply(this,arguments)}}();return(0,j.jsxs)(l.Z,{children:[(0,j.jsx)(l.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:(0,j.jsx)(d.Z,{color:"primary.dark",sx:{fontWeight:600},children:"\u30e1\u30fc\u30eb\u30b0\u30eb\u30fc\u30d7\u4f5c\u6210"})}),(0,j.jsxs)(l.Z,{gap:2,maxWidth:"sm",component:"form",noValidate:!0,autoComplete:"off",onSubmit:q(H),children:[(0,j.jsx)(f.Z,(0,r.Z)((0,r.Z)({variant:"outlined",required:!0,margin:"dense",autoFocus:!0,fullWidth:!0,size:"small",label:"\u540d\u524d"},_("name")),{},{error:"name"in G})),(0,j.jsx)(m.Z,{children:(0,j.jsx)(o.Z,{variant:"outlined",disabled:Object.keys(G).length>0,loading:k,loadingPosition:"start",startIcon:(0,j.jsx)(u.Z,{}),type:"submit",children:"\u4f5c\u6210\u3059\u308b"})})]})]})}},53329:function(e,t,n){var r=n(64836);t.Z=void 0;var a=r(n(45649)),s=n(80184),i=(0,a.default)((0,s.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.Z=i}}]);
//# sourceMappingURL=1796.95b461df.chunk.js.map