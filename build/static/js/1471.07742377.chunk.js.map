{"version":3,"file":"static/js/1471.07742377.chunk.js","mappings":"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","sources":["components/DialogConfirm.tsx","pages/FormAnswer/CSVDownload.tsx","pages/FormAnswer/Detail.tsx"],"sourcesContent":["import { LoadingButton } from '@mui/lab'\nimport { Box, Breakpoint, DialogContent, Stack } from '@mui/material'\nimport Dialog from '@mui/material/Dialog'\nimport DialogActions from '@mui/material/DialogActions'\nimport DialogTitle from '@mui/material/DialogTitle'\nimport Slide from '@mui/material/Slide'\nimport { TransitionProps } from '@mui/material/transitions'\nimport React, { useEffect } from 'react'\n\nconst Transition = React.forwardRef(function Transition(\n\tprops: TransitionProps & {\n\t\tchildren: any\n\t},\n\tref: React.Ref<unknown>\n) {\n\treturn <Slide direction=\"down\" ref={ref} {...props} />\n})\n\ninterface Props {\n\topen: boolean\n\ttitle?: string\n\tcloseButtonText?: string\n\tprimaryButton?: boolean\n\tprimaryButtonText?: string\n\tloading?: boolean\n\tmaxWidth?: Breakpoint\n\tdisabled?: boolean\n\tbackdropClick?: boolean\n\tuseEnterKey?: boolean\n\tprimaryButtonColor?: 'inherit' | 'primary' | 'secondary' | 'success' | 'error' | 'info' | 'warning'\n\tcomponent?: React.ElementType<any>\n\thandleClose: () => void\n\thandleSubmit?: () => void | Promise<void>\n\tchildren?: string | JSX.Element | JSX.Element[] | any\n}\n\nexport default function DialogConfirm({\n\topen,\n\tloading,\n\ttitle = '',\n\tmaxWidth = 'sm',\n\tprimaryButton = true,\n\tcloseButtonText = '閉じる',\n\tprimaryButtonText = '実施する',\n\tchildren,\n\tprimaryButtonColor = 'primary',\n\tcomponent = 'div',\n\tdisabled = false,\n\tbackdropClick,\n\tuseEnterKey = true,\n\thandleClose,\n\thandleSubmit,\n}: Props) {\n\tuseEffect(() => {\n\t\tconst enterPress = (e) => {\n\t\t\tif (e.key === 'Enter' && useEnterKey && handleSubmit && !disabled) {\n\t\t\t\thandleSubmit()\n\t\t\t}\n\t\t}\n\t\twindow.addEventListener('keydown', enterPress)\n\n\t\treturn () => {\n\t\t\twindow.removeEventListener('keydown', enterPress)\n\t\t}\n\t}, [disabled, handleSubmit, useEnterKey])\n\n\treturn (\n\t\t<>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tTransitionComponent={Transition}\n\t\t\t\tfullWidth\n\t\t\t\tmaxWidth={maxWidth}\n\t\t\t\tonClose={(_e, reason) => {\n\t\t\t\t\tif (backdropClick || reason !== 'backdropClick') {\n\t\t\t\t\t\thandleClose()\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t\tsx={{\n\t\t\t\t\t'& .MuiPaper-root': {\n\t\t\t\t\t\topacity: 0.98,\n\t\t\t\t\t\tmargin: 1,\n\t\t\t\t\t\twidth: {\n\t\t\t\t\t\t\tsm: '100%',\n\t\t\t\t\t\t\tmd: '95%',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Stack component={component} spacing={1}>\n\t\t\t\t\t<DialogTitle sx={{ fontWeight: 'bold', py: 1 }}>{title}</DialogTitle>\n\t\t\t\t\t<DialogContent>\n\t\t\t\t\t\t<Box sx={{ py: 1, maxHeight: '75vh' }}>{children}</Box>\n\t\t\t\t\t</DialogContent>\n\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t<Stack width=\"100%\" direction=\"row\" justifyContent=\"space-around\" alignItems=\"center\" mb={1}>\n\t\t\t\t\t\t\t<LoadingButton\n\t\t\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\twidth: 100,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonClick={() => handleClose()}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{closeButtonText}\n\t\t\t\t\t\t\t</LoadingButton>\n\t\t\t\t\t\t\t{primaryButton && (\n\t\t\t\t\t\t\t\t<LoadingButton\n\t\t\t\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tcolor={primaryButtonColor}\n\t\t\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\ttype={component === 'form' ? 'submit' : 'button'}\n\t\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\twidth: 100,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonClick={async (e) => {\n\t\t\t\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\t\t\t\t\thandleSubmit && (await handleSubmit())\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{primaryButtonText}\n\t\t\t\t\t\t\t\t</LoadingButton>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Stack>\n\t\t\t\t\t</DialogActions>\n\t\t\t\t</Stack>\n\t\t\t</Dialog>\n\t\t</>\n\t)\n}\n","import { Button, Checkbox, FormControlLabel, Stack, Typography } from '@mui/material'\nimport DialogConfirm from 'components/DialogConfirm'\nimport { useEffect, useState } from 'react'\nimport { BsFiletypeCsv } from 'react-icons/bs'\nimport CsvDownloader from 'react-csv-downloader'\nimport { format } from 'date-fns'\n\ninterface Props {\n\tkeys: string[]\n\tformName: string\n\tanswers: {\n\t\t[key: string]: string | number\n\t\tid: number\n\t\tcreatedAt: string\n\t\tupdatedAt: string\n\t}[]\n}\n\nexport default function CSVDownload({ answers, keys, formName }: Props) {\n\tconst [open, setOpen] = useState(false)\n\tconst [selectKeys, setSelectKeys] = useState<string[]>([])\n\tuseEffect(() => {\n\t\tif (!open) {\n\t\t\tsetSelectKeys(keys)\n\t\t}\n\t}, [keys, open])\n\treturn (\n\t\t<>\n\t\t\t<Button\n\t\t\t\tcolor=\"success\"\n\t\t\t\tvariant=\"contained\"\n\t\t\t\tsx={{\n\t\t\t\t\tminWidth: 120,\n\t\t\t\t}}\n\t\t\t\tonClick={() => setOpen(true)}\n\t\t\t\tstartIcon={<BsFiletypeCsv />}\n\t\t\t>\n\t\t\t\tCSVダウンロード\n\t\t\t</Button>\n\t\t\t<DialogConfirm\n\t\t\t\topen={open}\n\t\t\t\ttitle=\"ダウンロード設定\"\n\t\t\t\tmaxWidth=\"md\"\n\t\t\t\tprimaryButton={false}\n\t\t\t\thandleClose={() => {\n\t\t\t\t\tsetOpen(false)\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Stack direction=\"row\" gap=\"2px\" sx={{}}>\n\t\t\t\t\t<Stack flex={1} px={1}>\n\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\tp: 1,\n\t\t\t\t\t\t\t\tbgcolor: '#eee',\n\t\t\t\t\t\t\t\tfontWeight: 'bold',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t対象の選択\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Stack\n\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\tmaxHeight: '70vh',\n\t\t\t\t\t\t\t\tpx: 1,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\tchecked={selectKeys.length === keys.length}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\tconst checked = e.target.checked\n\t\t\t\t\t\t\t\t\t\t\tif (checked) {\n\t\t\t\t\t\t\t\t\t\t\t\tsetSelectKeys(keys)\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tsetSelectKeys([])\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlabel={'all'}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{keys.map((key, i) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\t\tkey={key + i}\n\t\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={selectKeys.includes(key)}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst checked = e.target.checked\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (checked) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetSelectKeys([...selectKeys, key])\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetSelectKeys(selectKeys.filter((f) => f !== key))\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tlabel={key === 'updatedAt' ? '回答日時' : key}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Stack>\n\t\t\t\t\t</Stack>\n\t\t\t\t</Stack>\n\t\t\t\t<Stack direction=\"row\" justifyContent=\"center\" mt={2}>\n\t\t\t\t\t<CsvDownloader\n\t\t\t\t\t\tclassName=\"csv-download-btn\"\n\t\t\t\t\t\ttext=\"ダウンロード\"\n\t\t\t\t\t\tfilename={formName + '_' + format(new Date(), 'yyyy-MM-dd-HH-mm-ss')}\n\t\t\t\t\t\textension=\".csv\"\n\t\t\t\t\t\tseparator=\";\"\n\t\t\t\t\t\tcolumns={selectKeys.map((v) => (v === 'updatedAt' ? '回答日時' : v))}\n\t\t\t\t\t\tdatas={answers.map((v) => {\n\t\t\t\t\t\t\treturn selectKeys.reduce((p, c) => {\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t...p,\n\t\t\t\t\t\t\t\t\t[c === 'updatedAt' ? '回答日時' : c]:\n\t\t\t\t\t\t\t\t\t\tc === 'updatedAt' ? format(new Date(v[c]), 'yyyy年MM月dd日 HH:ss') : v[c],\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, {})\n\t\t\t\t\t\t})}\n\t\t\t\t\t/>\n\t\t\t\t</Stack>\n\t\t\t</DialogConfirm>\n\t\t</>\n\t)\n}\n","import { Stack, Typography } from '@mui/material'\nimport { format } from 'date-fns'\nimport { useEffect, useMemo } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { useAppDispatch, useAppSelector } from 'redux/hooks'\nimport { getFormAnswers } from 'redux/slices/FormAnswer'\nimport CSVDownload from './CSVDownload'\n\nexport default function Detail() {\n\tconst { id } = useParams<{ id: string }>()\n\tconst dispatch = useAppDispatch()\n\tconst tokenInfo = useAppSelector((s) => s.UI.tokenInfo)\n\tconst status = useAppSelector((s) => s.FormAnswer.status)\n\tconst list = useAppSelector((s) => s.FormAnswer.list)\n\tconst formName = list.find((f) => f.formId === parseInt(`${id}`))?.formName\n\tconst answers = list.find((f) => f.formId === parseInt(`${id}`))?.answers\n\tuseEffect(() => {\n\t\tif (status === 'init') dispatch(getFormAnswers())\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\tconst keys = useMemo(() => {\n\t\tconst tmp: string[] = []\n\t\tanswers?.forEach((v) => {\n\t\t\tObject.keys(v).forEach((c) => {\n\t\t\t\tif (c === 'id' || c === 'createdAt') return\n\t\t\t\tif (!tmp.includes(c)) {\n\t\t\t\t\ttmp.push(c)\n\t\t\t\t}\n\t\t\t})\n\t\t})\n\t\treturn tmp\n\t}, [answers])\n\tif (!tokenInfo || !answers || !formName) return null\n\treturn (\n\t\t<Stack gap={2}>\n\t\t\t<Stack direction=\"row\" alignItems=\"center\" justifyContent=\"space-between\" gap={2} sx={{}}>\n\t\t\t\t<Typography\n\t\t\t\t\tsx={{\n\t\t\t\t\t\tfontWeight: 600,\n\t\t\t\t\t}}\n\t\t\t\t\tvariant=\"h5\"\n\t\t\t\t>\n\t\t\t\t\tフォーム回答一覧\n\t\t\t\t</Typography>\n\t\t\t\t<CSVDownload answers={answers} keys={keys} formName={formName} />\n\t\t\t</Stack>\n\t\t\t<Stack sx={{ height: 'calc(100vh - 140px)', overflowX: 'auto', gap: '1px', border: '1px solid #eee' }}>\n\t\t\t\t<Stack direction=\"row\" sx={{ width: 'max-content' }}>\n\t\t\t\t\t{keys.map((key, i) => {\n\t\t\t\t\t\tconst lb = key === 'updatedAt' ? '回答日時' : key\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\tkey={key + i}\n\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\tpx: 1,\n\t\t\t\t\t\t\t\t\tpy: 1,\n\t\t\t\t\t\t\t\t\twidth: lb.length * 18 + 8 + 'px',\n\t\t\t\t\t\t\t\t\tminWidth: 200,\n\t\t\t\t\t\t\t\t\tmaxWidth: 500,\n\t\t\t\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\t\t\t\ttextOverflow: 'ellipsis',\n\t\t\t\t\t\t\t\t\twhiteSpace: 'nowrap',\n\t\t\t\t\t\t\t\t\tcolor: (theme) => theme.palette.primary.contrastText,\n\t\t\t\t\t\t\t\t\tbgcolor: (theme) => theme.palette.primary.main,\n\t\t\t\t\t\t\t\t\t'&:not(last-child)': {\n\t\t\t\t\t\t\t\t\t\tborderRight: '1px solid #eee',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{lb}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t)\n\t\t\t\t\t})}\n\t\t\t\t</Stack>\n\t\t\t\t<Stack>\n\t\t\t\t\t{answers.map((answer, j) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Stack\n\t\t\t\t\t\t\t\tdirection=\"row\"\n\t\t\t\t\t\t\t\tkey={j}\n\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\twidth: 'max-content',\n\t\t\t\t\t\t\t\t\tbgcolor: j % 2 === 0 ? '#fff' : '#00f1',\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{keys.map((key, i) => {\n\t\t\t\t\t\t\t\t\tconst lb = key === 'updatedAt' ? '回答日時' : key\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\t\tkey={key + (j * 10 + i)}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"caption\"\n\t\t\t\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\t\t\twordBreak: 'break-all',\n\t\t\t\t\t\t\t\t\t\t\t\tpx: 1,\n\t\t\t\t\t\t\t\t\t\t\t\tmaxHeight: 200,\n\t\t\t\t\t\t\t\t\t\t\t\toverflowY: 'auto',\n\t\t\t\t\t\t\t\t\t\t\t\twidth: lb.length * 18 + 8 + 'px',\n\t\t\t\t\t\t\t\t\t\t\t\tminWidth: 200,\n\t\t\t\t\t\t\t\t\t\t\t\tmaxWidth: 500,\n\t\t\t\t\t\t\t\t\t\t\t\t'&:not(last-child)': {\n\t\t\t\t\t\t\t\t\t\t\t\t\tborderRight: '1px solid #ddd',\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{key === 'updatedAt' ? format(new Date(answer[key]), 'yyyy年MM月dd日 HH:ss') : answer[key]}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t)\n\t\t\t\t\t})}\n\t\t\t\t</Stack>\n\t\t\t</Stack>\n\t\t</Stack>\n\t)\n}\n"],"names":["Transition","React","props","ref","_jsx","Slide","_objectSpread","direction","DialogConfirm","_ref","open","loading","_ref$title","title","_ref$maxWidth","maxWidth","_ref$primaryButton","primaryButton","_ref$closeButtonText","closeButtonText","_ref$primaryButtonTex","primaryButtonText","children","_ref$primaryButtonCol","primaryButtonColor","_ref$component","component","_ref$disabled","disabled","backdropClick","_ref$useEnterKey","useEnterKey","handleClose","handleSubmit","useEffect","enterPress","e","key","window","addEventListener","removeEventListener","_Fragment","Dialog","TransitionComponent","fullWidth","onClose","_e","reason","sx","opacity","margin","width","sm","md","_jsxs","Stack","spacing","DialogTitle","fontWeight","py","DialogContent","Box","maxHeight","DialogActions","justifyContent","alignItems","mb","LoadingButton","variant","color","size","onClick","type","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","preventDefault","stopPropagation","t0","stop","_x","apply","arguments","CSVDownload","answers","keys","formName","_useState","useState","_useState2","_slicedToArray","setOpen","_useState3","_useState4","selectKeys","setSelectKeys","Button","minWidth","startIcon","BsFiletypeCsv","gap","flex","px","Typography","p","bgcolor","FormControlLabel","control","Checkbox","checked","length","onChange","target","label","map","i","includes","concat","_toConsumableArray","filter","f","mt","CsvDownloader","className","text","filename","format","Date","extension","separator","columns","v","datas","reduce","c","_defineProperty","Detail","_list$find","_list$find2","id","useParams","dispatch","useAppDispatch","tokenInfo","useAppSelector","s","UI","status","FormAnswer","list","find","formId","parseInt","getFormAnswers","useMemo","tmp","forEach","Object","push","height","overflowX","border","lb","overflow","textOverflow","whiteSpace","theme","palette","primary","contrastText","main","borderRight","answer","j","wordBreak","overflowY"],"sourceRoot":""}