{"version":3,"file":"static/js/9511.f9b9b9ed.chunk.js","mappings":"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","sources":["components/DialogConfirm.tsx","components/UploadDoc.tsx","utils/converts.ts","components/UploadImage.tsx","components/Button/TableView.tsx","components/Button/ListView.tsx","components/LocalFileDisplay.tsx"],"sourcesContent":["import { LoadingButton } from '@mui/lab'\nimport { Box, Breakpoint, DialogContent, Stack } from '@mui/material'\nimport Dialog from '@mui/material/Dialog'\nimport DialogActions from '@mui/material/DialogActions'\nimport DialogTitle from '@mui/material/DialogTitle'\nimport Slide from '@mui/material/Slide'\nimport { TransitionProps } from '@mui/material/transitions'\nimport React, { useEffect } from 'react'\n\nconst Transition = React.forwardRef(function Transition(\n\tprops: TransitionProps & {\n\t\tchildren: any\n\t},\n\tref: React.Ref<unknown>\n) {\n\treturn <Slide direction=\"down\" ref={ref} {...props} />\n})\n\ninterface Props {\n\topen: boolean\n\ttitle?: string\n\tcloseButtonText?: string\n\tprimaryButton?: boolean\n\tprimaryButtonText?: string\n\tloading?: boolean\n\tmaxWidth?: Breakpoint\n\tdisabled?: boolean\n\tbackdropClick?: boolean\n\tuseEnterKey?: boolean\n\tprimaryButtonColor?: 'inherit' | 'primary' | 'secondary' | 'success' | 'error' | 'info' | 'warning'\n\tcomponent?: React.ElementType<any>\n\thandleClose: () => void\n\thandleSubmit?: () => void | Promise<void>\n\tchildren?: string | JSX.Element | JSX.Element[] | any\n}\n\nexport default function DialogConfirm({\n\topen,\n\tloading,\n\ttitle = '',\n\tmaxWidth = 'sm',\n\tprimaryButton = true,\n\tcloseButtonText = '閉じる',\n\tprimaryButtonText = '実施する',\n\tchildren,\n\tprimaryButtonColor = 'primary',\n\tcomponent = 'div',\n\tdisabled = false,\n\tbackdropClick,\n\tuseEnterKey = true,\n\thandleClose,\n\thandleSubmit,\n}: Props) {\n\tuseEffect(() => {\n\t\tconst enterPress = (e) => {\n\t\t\tif (e.key === 'Enter' && useEnterKey && handleSubmit && !disabled) {\n\t\t\t\thandleSubmit()\n\t\t\t}\n\t\t}\n\t\twindow.addEventListener('keydown', enterPress)\n\n\t\treturn () => {\n\t\t\twindow.removeEventListener('keydown', enterPress)\n\t\t}\n\t}, [disabled, handleSubmit, useEnterKey])\n\n\treturn (\n\t\t<>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tTransitionComponent={Transition}\n\t\t\t\tfullWidth\n\t\t\t\tmaxWidth={maxWidth}\n\t\t\t\tonClose={(_e, reason) => {\n\t\t\t\t\tif (backdropClick || reason !== 'backdropClick') {\n\t\t\t\t\t\thandleClose()\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t\tsx={{\n\t\t\t\t\t'& .MuiPaper-root': {\n\t\t\t\t\t\topacity: 0.98,\n\t\t\t\t\t\tmargin: 1,\n\t\t\t\t\t\twidth: {\n\t\t\t\t\t\t\tsm: '100%',\n\t\t\t\t\t\t\tmd: '95%',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Stack component={component} spacing={1}>\n\t\t\t\t\t<DialogTitle sx={{ fontWeight: 'bold', py: 1 }}>{title}</DialogTitle>\n\t\t\t\t\t<DialogContent>\n\t\t\t\t\t\t<Box sx={{ py: 1, maxHeight: '75vh' }}>{children}</Box>\n\t\t\t\t\t</DialogContent>\n\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t<Stack width=\"100%\" direction=\"row\" justifyContent=\"space-around\" alignItems=\"center\" mb={1}>\n\t\t\t\t\t\t\t<LoadingButton\n\t\t\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\twidth: 100,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonClick={() => handleClose()}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{closeButtonText}\n\t\t\t\t\t\t\t</LoadingButton>\n\t\t\t\t\t\t\t{primaryButton && (\n\t\t\t\t\t\t\t\t<LoadingButton\n\t\t\t\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tcolor={primaryButtonColor}\n\t\t\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\ttype={component === 'form' ? 'submit' : 'button'}\n\t\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\twidth: 100,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonClick={async (e) => {\n\t\t\t\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\t\t\t\t\thandleSubmit && (await handleSubmit())\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{primaryButtonText}\n\t\t\t\t\t\t\t\t</LoadingButton>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Stack>\n\t\t\t\t\t</DialogActions>\n\t\t\t\t</Stack>\n\t\t\t</Dialog>\n\t\t</>\n\t)\n}\n","import { Button, InputAdornment, Stack, TextField, Typography } from '@mui/material'\nimport { LOCAL_API } from 'API/local'\nimport { IFileLocal } from 'interfaces'\nimport { useEffect, useMemo, useRef, useState } from 'react'\nimport {\n\tAiOutlineCloudUpload,\n\tAiOutlineFilePdf,\n\tAiOutlineFileUnknown,\n\tAiOutlineFileWord,\n\tAiOutlineFileZip,\n} from 'react-icons/ai'\nimport { PiFileCsvDuotone } from 'react-icons/pi'\nimport { RiFileExcel2Line } from 'react-icons/ri'\nimport { useAppDispatch } from 'redux/hooks'\nimport { UIAction } from 'redux/slices/UI'\nimport DialogConfirm from './DialogConfirm'\nimport { BsFiletypeTxt } from 'react-icons/bs'\n\ninterface Props {\n\tdocs: IFileLocal[]\n}\nexport default function UploadDoc({ docs }: Props) {\n\tconst dispatch = useAppDispatch()\n\tconst [file, setFile] = useState<File>()\n\tconst form = useRef<HTMLFormElement>(null)\n\tconst [loading, setLoading] = useState(false)\n\tconst [fileName, setFileName] = useState('')\n\tconst [desc, setDesc] = useState('')\n\tconst [ext, setExt] = useState('')\n\n\tconst [error, setError] = useState('')\n\tconst refTimer = useRef<number | null>(null)\n\tuseEffect(() => {\n\t\tconst startTimer = () => {\n\t\t\tif (refTimer.current !== null) return\n\t\t\trefTimer.current = window.setTimeout(() => {\n\t\t\t\tif (docs.find((f) => f.name === `${fileName}.${ext}`)) {\n\t\t\t\t\tsetError(`既に使用されているファイル名です。`)\n\t\t\t\t} else if (/^[A-z0-9_]+$/g.test(fileName)) {\n\t\t\t\t\tsetError('')\n\t\t\t\t} else {\n\t\t\t\t\tsetError(`使用可能な文字は半角英数字、\"_\"(アンダースコア)です。英字は小文字のみ使用です。`)\n\t\t\t\t}\n\t\t\t}, 200)\n\t\t}\n\n\t\t// stop the timer\n\t\tconst stopTimer = () => {\n\t\t\tif (refTimer.current === null) return\n\t\t\twindow.clearTimeout(refTimer.current)\n\t\t\trefTimer.current = null\n\t\t}\n\t\tif (fileName) {\n\t\t\tstopTimer()\n\t\t\tstartTimer()\n\t\t}\n\t\treturn () => {\n\t\t\tif (refTimer.current !== null) {\n\t\t\t\twindow.clearTimeout(refTimer.current)\n\t\t\t}\n\t\t}\n\t}, [ext, fileName, docs])\n\tconst iconFile = useMemo(() => {\n\t\tlet icon = <AiOutlineFileUnknown fontSize={44} color=\"#ccc\" />\n\t\tif (ext.includes('doc')) {\n\t\t\ticon = <AiOutlineFileWord fontSize={44} color=\"#36f\" />\n\t\t} else if (ext.includes('xls')) {\n\t\t\ticon = <RiFileExcel2Line fontSize={44} color=\"#0a8\" />\n\t\t} else if (ext.includes('csv')) {\n\t\t\ticon = <PiFileCsvDuotone fontSize={44} color=\"#0a8\" />\n\t\t} else if (ext.includes('pdf')) {\n\t\t\ticon = <AiOutlineFilePdf fontSize={44} color=\"#c00\" />\n\t\t} else if (ext.includes('zip')) {\n\t\t\ticon = <AiOutlineFileZip fontSize={44} color=\"#e90\" />\n\t\t} else if (ext.includes('txt')) {\n\t\t\ticon = <BsFiletypeTxt fontSize={44} color=\"#36a\" />\n\t\t}\n\t\treturn icon\n\t}, [ext])\n\tconst handleUpload = async () => {\n\t\tif (!file) return\n\t\tsetLoading(true)\n\t\ttry {\n\t\t\tlet formData = new FormData()\n\t\t\tawait new Promise((rs) => {\n\t\t\t\tconst blob = file.slice(0, file.size, file.type)\n\t\t\t\tlet f = new File([blob], `${fileName}.${ext}`, {\n\t\t\t\t\ttype: file.type,\n\t\t\t\t})\n\t\t\t\tformData.append('file', f)\n\t\t\t\tformData.append('data', JSON.stringify({ desc }))\n\t\t\t\trs(1)\n\t\t\t})\n\t\t\tconst { error, message } = await LOCAL_API.upload({ formData })\n\t\t\tdispatch(\n\t\t\t\tUIAction.addGlobalMessage({\n\t\t\t\t\ttype: error ? 'error' : 'success',\n\t\t\t\t\tmessage: message,\n\t\t\t\t})\n\t\t\t)\n\t\t\tform.current?.reset()\n\t\t\tsetFile(undefined)\n\t\t} finally {\n\t\t\tsetLoading(false)\n\t\t}\n\t}\n\treturn (\n\t\t<>\n\t\t\t<Button variant=\"contained\" color=\"warning\" size=\"small\" component=\"label\">\n\t\t\t\t<AiOutlineCloudUpload fontSize={20} style={{ marginRight: 4 }} />\n\t\t\t\tUpload\n\t\t\t\t<form ref={form}>\n\t\t\t\t\t<input\n\t\t\t\t\t\thidden\n\t\t\t\t\t\taccept=\".csv,.doc,.docx,.xls,.xlsx,.pdf,.zip,.txt\"\n\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\tonChange={async (e) => {\n\t\t\t\t\t\t\tif (e.target.files && e.target.files.length) {\n\t\t\t\t\t\t\t\tconst f = e.target.files[0]\n\t\t\t\t\t\t\t\tsetFileName(f.name.split('.').slice(0, -1).join('_').trim().replace(/\\s|-/g, '_'))\n\t\t\t\t\t\t\t\tsetExt(f.name.split('.').pop() || '')\n\t\t\t\t\t\t\t\tsetFile(f)\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsetFile(undefined)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</form>\n\t\t\t</Button>\n\t\t\t{file && (\n\t\t\t\t<DialogConfirm\n\t\t\t\t\tcomponent=\"form\"\n\t\t\t\t\topen={!!file}\n\t\t\t\t\tloading={loading}\n\t\t\t\t\tdisabled={!fileName.length || !!error}\n\t\t\t\t\thandleClose={() => {\n\t\t\t\t\t\tform.current?.reset()\n\t\t\t\t\t\tsetFile(undefined)\n\t\t\t\t\t}}\n\t\t\t\t\ttitle=\"\"\n\t\t\t\t\thandleSubmit={handleUpload}\n\t\t\t\t\tprimaryButtonText=\"保存\"\n\t\t\t\t>\n\t\t\t\t\t<Stack direction=\"row\" margin=\"auto\" width=\"100%\" alignItems=\"center\">\n\t\t\t\t\t\t<Typography mt={1}>{iconFile}</Typography>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tvalue={fileName}\n\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\tconst value = e.target.value\n\t\t\t\t\t\t\t\tsetFileName(value)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonFocus={(e) => e.target.select()}\n\t\t\t\t\t\t\tlabel={'ファイル名'}\n\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\tendAdornment: <InputAdornment position=\"end\">.{ext}</InputAdornment>,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\terror={!!error}\n\t\t\t\t\t\t\thelperText={error}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Stack>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tmultiline\n\t\t\t\t\t\tminRows={3}\n\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tvalue={desc}\n\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\tconst value = e.target.value\n\t\t\t\t\t\t\tsetDesc(value)\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tlabel={'説明'}\n\t\t\t\t\t/>\n\t\t\t\t</DialogConfirm>\n\t\t\t)}\n\t\t</>\n\t)\n}\n","const MAX_SIZE = 2000\n\nexport function toDataURL(\n\tsrc: string,\n\tmaxSize = MAX_SIZE,\n\tcallback: (data: string) => void,\n\toutputFormat: 'image/png' | 'image/jpeg' | 'image/webp' = 'image/png'\n) {\n\tconst img = new Image()\n\timg.onload = function () {\n\t\tconst canvas = document.createElement('canvas')\n\t\tconst ctx = canvas.getContext('2d')\n\t\tif (!ctx) return\n\n\t\tif (img.width > img.height && img.width > maxSize) {\n\t\t\tcanvas.width = maxSize\n\t\t\tcanvas.height = (maxSize * img.height) / img.width\n\t\t} else if (img.height > img.width && img.height > maxSize) {\n\t\t\tcanvas.width = (maxSize * img.width) / img.height\n\t\t\tcanvas.height = maxSize\n\t\t} else {\n\t\t\tcanvas.width = img.width\n\t\t\tcanvas.height = img.height\n\t\t}\n\n\t\tctx.drawImage(img, 0, 0, canvas.width, canvas.height)\n\t\tconst dataURL = canvas.toDataURL(outputFormat)\n\t\tcallback(dataURL)\n\t}\n\timg.src = src\n\tif (img.complete || img.complete === undefined) {\n\t\timg.src = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=='\n\t\timg.src = src\n\t}\n}\nexport function videoCapture(\n\tvideo: HTMLVideoElement,\n\tmaxSize = MAX_SIZE,\n\trate = 1,\n\tcallback: (data: string) => void,\n\toutputFormat: 'image/png' | 'image/jpeg' | 'image/webp' = 'image/png',\n\tflipX = -1\n) {\n\tconst canvas = document.createElement('canvas')\n\tconst width = maxSize\n\tconst height = maxSize * rate\n\tcanvas.width = width\n\tcanvas.height = height\n\tconst ctx = canvas.getContext('2d')\n\tif (!ctx) return\n\tctx.save()\n\tctx.translate(width, 0)\n\tctx.scale(flipX, 1)\n\tctx.drawImage(video, 0, 0, width, height)\n\tctx.restore()\n\tcallback(canvas.toDataURL(outputFormat))\n}\n\nexport function loadCanvasAndResize(file: File, maxSize = MAX_SIZE, rate?: number) {\n\treturn new Promise<string>((resolve) => {\n\t\tconst canvas = document.createElement('canvas')\n\t\tconst ctx = canvas.getContext('2d')\n\t\tif (!ctx) return\n\t\tconst img = new Image()\n\t\timg.src = URL.createObjectURL(file)\n\t\timg.onload = () => {\n\t\t\tif (!rate) {\n\t\t\t\tcanvas.width = img.width\n\t\t\t\tcanvas.height = img.height\n\t\t\t\tif (img.width > img.height && img.width > maxSize) {\n\t\t\t\t\tcanvas.width = maxSize\n\t\t\t\t\tcanvas.height = (maxSize * img.height) / img.width\n\t\t\t\t} else if (img.height > img.width && img.height > maxSize) {\n\t\t\t\t\tcanvas.width = (maxSize * img.width) / img.height\n\t\t\t\t\tcanvas.height = maxSize\n\t\t\t\t} else {\n\t\t\t\t\tcanvas.width = img.width\n\t\t\t\t\tcanvas.height = img.height\n\t\t\t\t}\n\t\t\t\tctx.drawImage(img, 0, 0, canvas.width, canvas.height)\n\t\t\t\tresolve(canvas.toDataURL())\n\t\t\t} else {\n\t\t\t\tif (img.width / img.height > rate) {\n\t\t\t\t\t// 幅あまった\n\t\t\t\t\tcanvas.width = img.height * rate\n\t\t\t\t\tcanvas.height = img.height\n\t\t\t\t} else {\n\t\t\t\t\t//　高あまった\n\t\t\t\t\tcanvas.width = img.width\n\t\t\t\t\tcanvas.height = img.width / rate\n\t\t\t\t}\n\t\t\t\tctx.drawImage(img, canvas.width / 2 - img.width / 2, canvas.height / 2 - img.height / 2)\n\t\t\t\tresolve(canvas.toDataURL())\n\t\t\t}\n\t\t}\n\t\timg.onerror = () => resolve(canvas.toDataURL())\n\t})\n}\n\nexport function rotateImage90Deg(base64: string = '') {\n\tif (!base64) return undefined\n\treturn new Promise<string>((resolve, reject) => {\n\t\tconst img = new Image()\n\t\timg.src = base64\n\t\timg.onerror = reject\n\t\tconst canvas = document.createElement('canvas')\n\t\timg.onload = () => {\n\t\t\tcanvas.width = img.height\n\t\t\tcanvas.height = img.width\n\t\t\tconst ctx = canvas.getContext('2d')\n\t\t\tif (!ctx) return\n\t\t\tctx.save()\n\t\t\tctx.translate(canvas.width / 2, canvas.height / 2)\n\t\t\tctx.rotate(Math.PI / 2)\n\t\t\tctx.drawImage(img, -img.width / 2, -img.height / 2)\n\t\t\tctx.rotate(-Math.PI / 2)\n\t\t\tctx.translate(-canvas.width / 2, -canvas.height / 2)\n\t\t\tctx.restore()\n\t\t\tresolve(canvas.toDataURL())\n\t\t}\n\t})\n}\nexport function rotateImageMinus90Deg(base64: string = '') {\n\tif (!base64) return undefined\n\treturn new Promise<string>((resolve, reject) => {\n\t\tconst img = new Image()\n\t\timg.src = base64\n\t\timg.onerror = reject\n\t\tconst canvas = document.createElement('canvas')\n\t\timg.onload = () => {\n\t\t\tcanvas.width = img.height\n\t\t\tcanvas.height = img.width\n\t\t\tconst ctx = canvas.getContext('2d')\n\t\t\tif (!ctx) return\n\t\t\tctx.save()\n\t\t\tctx.translate(canvas.width / 2, canvas.height / 2)\n\t\t\tctx.rotate(-Math.PI / 2)\n\t\t\tctx.drawImage(img, -img.width / 2, -img.height / 2)\n\t\t\tctx.rotate(Math.PI / 2)\n\t\t\tctx.translate(-canvas.width / 2, -canvas.height / 2)\n\t\t\tctx.restore()\n\t\t\tresolve(canvas.toDataURL())\n\t\t}\n\t})\n}\nexport function flipImage(base64: string = '') {\n\tif (!base64) return undefined\n\treturn new Promise<string>((resolve, reject) => {\n\t\tconst img = new Image()\n\t\timg.src = base64\n\t\timg.onerror = reject\n\t\tconst canvas = document.createElement('canvas')\n\t\timg.onload = () => {\n\t\t\tcanvas.width = img.width\n\t\t\tcanvas.height = img.height\n\t\t\tconst ctx = canvas.getContext('2d')\n\t\t\tif (!ctx) return\n\t\t\tctx.save()\n\t\t\tctx.translate(canvas.width / 2, canvas.height / 2)\n\t\t\tctx.scale(-1, 1)\n\t\t\tctx.drawImage(img, -img.width / 2, -img.height / 2, img.width, img.height)\n\t\t\tctx.restore()\n\t\t\tresolve(canvas.toDataURL())\n\t\t}\n\t})\n}\n","import CropIcon from '@mui/icons-material/Crop'\nimport FlipIcon from '@mui/icons-material/Flip'\nimport RotateLeftIcon from '@mui/icons-material/RotateLeft'\nimport RotateRightIcon from '@mui/icons-material/RotateRight'\nimport { Button, IconButton, InputAdornment, Stack, TextField, Typography } from '@mui/material'\nimport { LOCAL_API } from 'API/local'\nimport 'cropperjs/dist/cropper.css'\nimport parse from 'html-react-parser'\nimport { IFileLocal } from 'interfaces'\nimport { createRef, useEffect, useRef, useState } from 'react'\nimport Cropper, { ReactCropperElement } from 'react-cropper'\nimport { AiOutlineCloudUpload } from 'react-icons/ai'\nimport { useAppDispatch } from 'redux/hooks'\nimport { UIAction } from 'redux/slices/UI'\nimport { flipImage, loadCanvasAndResize, rotateImage90Deg, rotateImageMinus90Deg } from 'utils/converts'\nimport DialogConfirm from './DialogConfirm'\n\nfunction dataURLtoFile(dataurl, filename) {\n\tvar arr = dataurl.split(','),\n\t\tmime = arr[0].match(/:(.*?);/)[1],\n\t\tbstr = atob(arr[arr.length - 1]),\n\t\tn = bstr.length,\n\t\tu8arr = new Uint8Array(n)\n\twhile (n--) {\n\t\tu8arr[n] = bstr.charCodeAt(n)\n\t}\n\treturn new File([u8arr], filename, { type: mime })\n}\ninterface Props {\n\timages: IFileLocal[]\n}\nexport default function UploadImage({ images }: Props) {\n\tconst dispatch = useAppDispatch()\n\tconst form = useRef<HTMLFormElement>(null)\n\tconst [loading, setLoading] = useState(false)\n\tconst [fileName, setFileName] = useState('')\n\tconst [desc, setDesc] = useState('')\n\tconst [ext, setExt] = useState('')\n\tconst [svgFile, setSvgFile] = useState<File>()\n\tconst [svg, setSvg] = useState<HTMLImageElement>()\n\n\tconst [error, setError] = useState('')\n\tconst refTimer = useRef<number | null>(null)\n\tuseEffect(() => {\n\t\tconst startTimer = () => {\n\t\t\tif (refTimer.current !== null) return\n\t\t\trefTimer.current = window.setTimeout(() => {\n\t\t\t\tif (images.find((f) => f.name === `${fileName}.${ext}`)) {\n\t\t\t\t\tsetError(`既に使用されているファイル名です。`)\n\t\t\t\t} else if (/^[A-z0-9_]+$/g.test(fileName)) {\n\t\t\t\t\tsetError('')\n\t\t\t\t} else {\n\t\t\t\t\tsetError(`使用可能な文字は半角英数字、\"_\"(アンダースコア)です。英字は小文字のみ使用です。`)\n\t\t\t\t}\n\t\t\t}, 200)\n\t\t}\n\n\t\t// stop the timer\n\t\tconst stopTimer = () => {\n\t\t\tif (refTimer.current === null) return\n\t\t\twindow.clearTimeout(refTimer.current)\n\t\t\trefTimer.current = null\n\t\t}\n\t\tif (fileName) {\n\t\t\tstopTimer()\n\t\t\tstartTimer()\n\t\t}\n\t\treturn () => {\n\t\t\tif (refTimer.current !== null) {\n\t\t\t\twindow.clearTimeout(refTimer.current)\n\t\t\t}\n\t\t}\n\t}, [ext, fileName, images])\n\n\tconst [image, setImage] = useState<string>()\n\tconst [cropData, setCropData] = useState<string>()\n\tconst cropperRef = createRef<ReactCropperElement>()\n\n\tfunction reset() {\n\t\tform.current?.reset()\n\t\tsetFileName('')\n\t\tsetExt('')\n\t\tsetError('')\n\t\tsetDesc('')\n\t\tsetImage(undefined)\n\t\tsetCropData(undefined)\n\t\tsetSvgFile(undefined)\n\t\tsetSvg(undefined)\n\t}\n\tconst handleUpload = async () => {\n\t\tsetLoading(true)\n\t\ttry {\n\t\t\tlet formData = new FormData()\n\t\t\tif (svgFile) {\n\t\t\t\tconst blob = svgFile.slice(0, svgFile.size, svgFile.type)\n\t\t\t\tconst upFile = new File([blob], `${fileName}.${ext}`, { type: svgFile.type })\n\t\t\t\tformData.append('file', upFile)\n\t\t\t} else {\n\t\t\t\tif (!image && !cropData) return\n\t\t\t\tformData.append('file', dataURLtoFile(cropData || image || '', `${fileName}.${ext}`))\n\t\t\t}\n\t\t\tformData.append('data', JSON.stringify({ desc }))\n\t\t\tconst { error, message } = await LOCAL_API.upload({ formData })\n\t\t\tdispatch(\n\t\t\t\tUIAction.addGlobalMessage({\n\t\t\t\t\ttype: error ? 'error' : 'success',\n\t\t\t\t\tmessage: message,\n\t\t\t\t})\n\t\t\t)\n\t\t\treset()\n\t\t} finally {\n\t\t\tsetLoading(false)\n\t\t}\n\t}\n\treturn (\n\t\t<>\n\t\t\t<Button variant=\"contained\" color=\"success\" size=\"small\" component=\"label\">\n\t\t\t\t<AiOutlineCloudUpload fontSize={20} style={{ marginRight: 4 }} />\n\t\t\t\tUpload\n\t\t\t\t<form ref={form}>\n\t\t\t\t\t<input\n\t\t\t\t\t\thidden\n\t\t\t\t\t\taccept=\".jpg,.jpeg,.png,.webp,.svg\"\n\t\t\t\t\t\tmultiple\n\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\tonChange={async (e) => {\n\t\t\t\t\t\t\tsetSvgFile(undefined)\n\t\t\t\t\t\t\tif (e.target.files && e.target.files.length) {\n\t\t\t\t\t\t\t\tconst f = e.target.files[0]\n\t\t\t\t\t\t\t\tif (f.size > 1024 * 1024 * 10) {\n\t\t\t\t\t\t\t\t\treset()\n\t\t\t\t\t\t\t\t\treturn alert('File is too big!')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tsetFileName(f.name.split('.').slice(0, -1).join('_').trim().replace(/\\s|-/g, '_'))\n\t\t\t\t\t\t\t\tconst ext = f.name.split('.').pop() || ''\n\t\t\t\t\t\t\t\tsetExt(f.name.split('.').pop() || '')\n\t\t\t\t\t\t\t\tconst base64 = await loadCanvasAndResize(f)\n\t\t\t\t\t\t\t\tif (ext === 'svg') {\n\t\t\t\t\t\t\t\t\tsetSvgFile(f)\n\t\t\t\t\t\t\t\t\tconst img = document.createElement('img')\n\t\t\t\t\t\t\t\t\tconst reader = new FileReader()\n\t\t\t\t\t\t\t\t\treader.onload = (e) => {\n\t\t\t\t\t\t\t\t\t\timg.src = e.target?.result as any\n\t\t\t\t\t\t\t\t\t\tsetSvg(img)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treader.readAsDataURL(f)\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tsetImage(base64)\n\t\t\t\t\t\t\t\t\tsetCropData(base64)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treset()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</form>\n\t\t\t</Button>\n\t\t\t{(image || svgFile) && (\n\t\t\t\t<DialogConfirm\n\t\t\t\t\topen={true}\n\t\t\t\t\tloading={loading}\n\t\t\t\t\tdisabled={!fileName.length || !!error}\n\t\t\t\t\thandleClose={() => {\n\t\t\t\t\t\treset()\n\t\t\t\t\t}}\n\t\t\t\t\tmaxWidth=\"lg\"\n\t\t\t\t\thandleSubmit={handleUpload}\n\t\t\t\t\tprimaryButtonText=\"保存\"\n\t\t\t\t>\n\t\t\t\t\t<Stack alignItems=\"center\">\n\t\t\t\t\t\t{svg ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<Stack alignItems=\"center\" justifyContent=\"space-between\" height={400}>\n\t\t\t\t\t\t\t\t\t<Typography variant=\"h4\">使用画像</Typography>\n\t\t\t\t\t\t\t\t\t{parse(svg.outerHTML)}\n\t\t\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Stack direction=\"row\" gap={1} mb={2} width=\"100%\" alignItems=\"center\" justifyContent=\"center\">\n\t\t\t\t\t\t\t\t<Stack alignItems=\"center\" justifyContent=\"space-between\" height={400}>\n\t\t\t\t\t\t\t\t\t<Typography variant=\"h4\">元画像</Typography>\n\t\t\t\t\t\t\t\t\t<Cropper\n\t\t\t\t\t\t\t\t\t\tref={cropperRef}\n\t\t\t\t\t\t\t\t\t\tstyle={{ height: 350 }}\n\t\t\t\t\t\t\t\t\t\tzoomTo={0.5}\n\t\t\t\t\t\t\t\t\t\tinitialAspectRatio={NaN}\n\t\t\t\t\t\t\t\t\t\tsrc={image}\n\t\t\t\t\t\t\t\t\t\tviewMode={1}\n\t\t\t\t\t\t\t\t\t\tminCropBoxHeight={50}\n\t\t\t\t\t\t\t\t\t\tminCropBoxWidth={50}\n\t\t\t\t\t\t\t\t\t\tbackground={false}\n\t\t\t\t\t\t\t\t\t\tresponsive={true}\n\t\t\t\t\t\t\t\t\t\tautoCropArea={1}\n\t\t\t\t\t\t\t\t\t\tcheckOrientation={false}\n\t\t\t\t\t\t\t\t\t\tguides={true}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t\t\t<Stack gap={2}>\n\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tif (typeof cropperRef.current?.cropper !== 'undefined') {\n\t\t\t\t\t\t\t\t\t\t\t\tsetCropData(cropperRef.current?.cropper.getCroppedCanvas().toDataURL())\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<CropIcon />\n\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\tonClick={async () => {\n\t\t\t\t\t\t\t\t\t\t\tconst tmp = await rotateImageMinus90Deg(cropData)\n\t\t\t\t\t\t\t\t\t\t\tsetCropData(tmp)\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<RotateLeftIcon />\n\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\tonClick={async () => {\n\t\t\t\t\t\t\t\t\t\t\tconst tmp = await rotateImage90Deg(cropData)\n\t\t\t\t\t\t\t\t\t\t\tsetCropData(tmp)\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<RotateRightIcon />\n\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\tonClick={async () => {\n\t\t\t\t\t\t\t\t\t\t\tconst tmp = await flipImage(cropData)\n\t\t\t\t\t\t\t\t\t\t\tsetCropData(tmp)\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<FlipIcon />\n\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t\t\t<Stack alignItems=\"center\" justifyContent=\"space-between\" height={400}>\n\t\t\t\t\t\t\t\t\t<Typography variant=\"h4\">使用画像</Typography>\n\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: '100%', height: 350, objectFit: 'contain' }}\n\t\t\t\t\t\t\t\t\t\tsrc={cropData || image}\n\t\t\t\t\t\t\t\t\t\talt=\"cropped\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<Stack width={600}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tvalue={fileName}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tconst value = e.target.value\n\t\t\t\t\t\t\t\t\tsetFileName(value)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonFocus={(e) => e.target.select()}\n\t\t\t\t\t\t\t\tlabel={'ファイル名'}\n\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\tendAdornment: <InputAdornment position=\"end\">.{ext}</InputAdornment>,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\terror={!!error}\n\t\t\t\t\t\t\t\thelperText={error}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\tminRows={3}\n\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tvalue={desc}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tconst value = e.target.value\n\t\t\t\t\t\t\t\t\tsetDesc(value)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tlabel={'説明'}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Stack>\n\t\t\t\t\t</Stack>\n\t\t\t\t</DialogConfirm>\n\t\t\t)}\n\t\t</>\n\t)\n}\n","import { Button, ButtonProps } from '@mui/material'\nimport { MdOutlineGridView } from 'react-icons/md'\n\ninterface Props extends ButtonProps {}\n\nexport default function TableViewButton({ ...props }: Props) {\n\treturn (\n\t\t<Button\n\t\t\tsize=\"small\"\n\t\t\tcolor=\"inherit\"\n\t\t\tvariant=\"contained\"\n\t\t\t{...props}\n\t\t\tsx={{\n\t\t\t\tmx: 0.5,\n\t\t\t\tp: 1,\n\t\t\t\tminWidth: 0,\n\t\t\t\tfontSize: 10,\n\t\t\t\t...props.sx,\n\t\t\t}}\n\t\t>\n\t\t\t<MdOutlineGridView style={{ fontSize: 20 }} />\n\t\t</Button>\n\t)\n}\n","import { Button, ButtonProps } from '@mui/material'\nimport { TfiViewListAlt } from 'react-icons/tfi'\n\ninterface Props extends ButtonProps {}\n\nexport default function ListViewButton({ ...props }: Props) {\n\treturn (\n\t\t<Button\n\t\t\tsize=\"small\"\n\t\t\tcolor=\"inherit\"\n\t\t\tvariant=\"contained\"\n\t\t\t{...props}\n\t\t\tsx={{\n\t\t\t\tmx: 0.5,\n\t\t\t\tp: 1,\n\t\t\t\tminWidth: 0,\n\t\t\t\tfontSize: 10,\n\t\t\t\t...props.sx,\n\t\t\t}}\n\t\t>\n\t\t\t<TfiViewListAlt style={{ fontSize: 20 }} />\n\t\t</Button>\n\t)\n}\n","import DeleteIcon from '@mui/icons-material/Delete'\nimport { Box, Divider, IconButton, Stack, TextField, Tooltip, Typography } from '@mui/material'\nimport { LOCAL_API } from 'API/local'\nimport { IFileLocal } from 'interfaces'\nimport { Fragment, useEffect, useMemo, useState } from 'react'\nimport { AiOutlineFilePdf, AiOutlineFileUnknown, AiOutlineFileWord, AiOutlineFileZip } from 'react-icons/ai'\nimport { PiFileCsvDuotone } from 'react-icons/pi'\nimport { RiFileExcel2Line } from 'react-icons/ri'\nimport { useAppDispatch, useAppSelector } from 'redux/hooks'\nimport { getFileLocals } from 'redux/slices/FileLocal'\nimport { UIAction } from 'redux/slices/UI'\nimport DialogConfirm from './DialogConfirm'\nimport UploadDoc from './UploadDoc'\nimport UploadImage from './UploadImage'\nimport { BsFiletypeTxt } from 'react-icons/bs'\nimport { DataGrid } from '@mui/x-data-grid'\nimport TableViewButton from './Button/TableView'\nimport ListViewButton from './Button/ListView'\n\ninterface Props {\n\tonlyUse?: 'doc' | 'img'\n\timgSize?: number\n\tmaxHeight?: number\n\tselect?: IFileLocal\n\thandleSelect?: (file: IFileLocal) => void\n}\nexport default function LocalFileDisplay({ onlyUse, maxHeight, select, imgSize = 200, handleSelect }: Props) {\n\tconst dispatch = useAppDispatch()\n\tconst status = useAppSelector((s) => s.FileLocal.status)\n\tuseEffect(() => {\n\t\tif (status === 'init') dispatch(getFileLocals())\n\t}, [status, dispatch])\n\tconst images = useAppSelector((s) => s.FileLocal.images)\n\tconst docs = useAppSelector((s) => s.FileLocal.docs)\n\tconst [selected, setSelected] = useState<IFileLocal | undefined>(select)\n\tconst [confirmDelete, setConfirmDelete] = useState(false)\n\tconst [loading, setLoading] = useState(false)\n\tconst [displayType, setDisplayType] = useState<'list' | 'thumbnail'>('list')\n\tconst [filter, setFilter] = useState({\n\t\timg: '',\n\t\tdoc: '',\n\t})\n\tuseEffect(() => {\n\t\tif (handleSelect && selected) {\n\t\t\thandleSelect(selected)\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [selected])\n\tconst imgsFix = useMemo(() => {\n\t\treturn images.filter((f) => f.desc.includes(filter.img) || f.name.includes(filter.img))\n\t}, [filter.img, images])\n\tconst docsFix = useMemo(() => {\n\t\treturn docs.filter((f) => f.desc.includes(filter.doc) || f.name.includes(filter.doc))\n\t}, [filter.doc, docs])\n\treturn (\n\t\t<Stack gap={1}>\n\t\t\t{!handleSelect && (\n\t\t\t\t<DialogConfirm\n\t\t\t\t\topen={confirmDelete}\n\t\t\t\t\tloading={loading}\n\t\t\t\t\tprimaryButtonColor=\"error\"\n\t\t\t\t\tprimaryButtonText=\"削除\"\n\t\t\t\t\tmaxWidth=\"xs\"\n\t\t\t\t\thandleClose={() => {\n\t\t\t\t\t\tsetConfirmDelete(false)\n\t\t\t\t\t\tsetSelected(undefined)\n\t\t\t\t\t}}\n\t\t\t\t\thandleSubmit={async () => {\n\t\t\t\t\t\tif (!selected) return\n\t\t\t\t\t\tsetLoading(true)\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconst { error, message } = await LOCAL_API.delete(selected.id)\n\t\t\t\t\t\t\tdispatch(\n\t\t\t\t\t\t\t\tUIAction.addGlobalMessage({\n\t\t\t\t\t\t\t\t\ttype: error ? 'error' : 'success',\n\t\t\t\t\t\t\t\t\tmessage: message,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\tsetConfirmDelete(false)\n\t\t\t\t\t\t\tsetSelected(undefined)\n\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\tsetLoading(false)\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Typography>{`ファイル${selected?.name}を削除してもいいですか`}</Typography>\n\t\t\t\t</DialogConfirm>\n\t\t\t)}\n\t\t\t{(!onlyUse || onlyUse === 'img') && (\n\t\t\t\t<>\n\t\t\t\t\t<Stack direction=\"row\" alignItems=\"center\" justifyContent=\"space-between\" gap={2} sx={{}}>\n\t\t\t\t\t\t<Stack direction=\"row\" alignItems=\"center\" gap={4}>\n\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\tfontWeight: 500,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tvariant=\"h6\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t画像一覧\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Box sx={{ display: 'flex', gap: 2, color: '#666' }}>\n\t\t\t\t\t\t\t\t<ListViewButton\n\t\t\t\t\t\t\t\t\tcolor={displayType === 'list' ? 'info' : 'inherit'}\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tsetDisplayType('list')\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<TableViewButton\n\t\t\t\t\t\t\t\t\tcolor={displayType === 'thumbnail' ? 'info' : 'inherit'}\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tsetDisplayType('thumbnail')\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t<Stack width={300}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tplaceholder=\"フィルター\"\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tvalue={filter.img}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetFilter({ ...filter, img: e.target.value })\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t<UploadImage images={images} />\n\t\t\t\t\t</Stack>\n\t\t\t\t\t{displayType === 'thumbnail' ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Stack direction=\"row\" gap={0.5} mt={2} flexWrap=\"wrap\" maxHeight={maxHeight} overflow=\"auto\">\n\t\t\t\t\t\t\t\t{imgsFix.map((v) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<Stack\n\t\t\t\t\t\t\t\t\t\t\twidth={imgSize}\n\t\t\t\t\t\t\t\t\t\t\tkey={v.name}\n\t\t\t\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\t\t\tposition: 'relative',\n\t\t\t\t\t\t\t\t\t\t\t\tborder: '2px solid',\n\t\t\t\t\t\t\t\t\t\t\t\ttransition: 'all 200ms',\n\t\t\t\t\t\t\t\t\t\t\t\tborderColor: selected?.name === v.name ? '#00f !important' : '#eee8',\n\t\t\t\t\t\t\t\t\t\t\t\tbgcolor: selected?.name === v.name ? '#00f2' : '#fff',\n\t\t\t\t\t\t\t\t\t\t\t\t'&:hover': {\n\t\t\t\t\t\t\t\t\t\t\t\t\tzIndex: 999,\n\t\t\t\t\t\t\t\t\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t\t\t\t\t\t\t\t\t\tborderColor: '#ccc',\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tsetSelected(v)\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Box component=\"img\" src={v.path} alt=\"\" height={imgSize} sx={{ objectFit: 'contain' }} />\n\t\t\t\t\t\t\t\t\t\t\t<Stack\n\t\t\t\t\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\t\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\t\t\t\t\t\t\t\tbgcolor: '#aaaa',\n\t\t\t\t\t\t\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\t\t\t\t\t\t\tp: 1,\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransition: 'all 300ms',\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<Stack\n\t\t\t\t\t\t\t\t\t\t\t\t\tdirection=\"row\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tjustifyContent=\"space-between\"\n\t\t\t\t\t\t\t\t\t\t\t\t\talignItems=\"flex-start\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Box flex={1} width={'80%'}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"#304\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twhiteSpace: 'nowrap',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttextOverflow: 'ellipsis',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaxWidth: '100%',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{v.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant=\"caption\" color=\"blue\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{Math.ceil(v.size / 1024)} kb\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{!handleSelect && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"error\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsx={{ minWidth: 0 }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetConfirmDelete(true)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteIcon />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<DataGrid\n\t\t\t\t\t\t\t\trows={imgsFix}\n\t\t\t\t\t\t\t\tcolumns={[\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tfield: 'name',\n\t\t\t\t\t\t\t\t\t\theaderName: 'ファイル名',\n\t\t\t\t\t\t\t\t\t\tflex: 1,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tfield: 'display',\n\t\t\t\t\t\t\t\t\t\theaderName: '',\n\t\t\t\t\t\t\t\t\t\tflex: 1,\n\t\t\t\t\t\t\t\t\t\trenderCell: (v) => {\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent=\"img\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={v.row.path}\n\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\theight={imgSize}\n\t\t\t\t\t\t\t\t\t\t\t\t\tsx={{ objectFit: 'contain', height: '100%' }}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tfield: 'size',\n\t\t\t\t\t\t\t\t\t\theaderName: 'サイズ',\n\t\t\t\t\t\t\t\t\t\twidth: 100,\n\t\t\t\t\t\t\t\t\t\trenderCell: (v) => {\n\t\t\t\t\t\t\t\t\t\t\treturn <Typography color=\"blue\">{Math.ceil(v.row.size / 1024)} kb</Typography>\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tfield: 'desc',\n\t\t\t\t\t\t\t\t\t\theaderName: '説明',\n\t\t\t\t\t\t\t\t\t\tflex: 2,\n\t\t\t\t\t\t\t\t\t\trenderCell: (v) => {\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip title={v.row.desc} key={v.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p>{v.row.desc.length > 50 ? v.row.desc.slice(0, 50) + '...' : v.row.desc}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tfield: 'action',\n\t\t\t\t\t\t\t\t\t\theaderName: 'アクション',\n\t\t\t\t\t\t\t\t\t\twidth: 160,\n\t\t\t\t\t\t\t\t\t\trenderCell: (v) => {\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"error\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tsx={{ minWidth: 0 }}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetConfirmDelete(true)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteIcon />\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\tinitialState={{\n\t\t\t\t\t\t\t\t\tpagination: {\n\t\t\t\t\t\t\t\t\t\tpaginationModel: { page: 0, pageSize: 10 },\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tpageSizeOptions={[10, 20, 30, 50]}\n\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t'& .MuiDataGrid-cell:focus': {\n\t\t\t\t\t\t\t\t\t\toutline: 'none',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t'& .MuiDataGrid-cell:focus-within': {\n\t\t\t\t\t\t\t\t\t\toutline: 'none',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t'& .MuiDataGrid-cell:hover': {},\n\t\t\t\t\t\t\t\t\t'& .MuiDataGrid-columnHeaders': {\n\t\t\t\t\t\t\t\t\t\tbgcolor: 'primary.dark',\n\t\t\t\t\t\t\t\t\t\tcolor: '#fff',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t'& .MuiDataGrid-columnHeaders svg': {\n\t\t\t\t\t\t\t\t\t\tcolor: '#fff',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tgetRowClassName={(v) => {\n\t\t\t\t\t\t\t\t\tif (selected?.name === v.row.name) return 'row-selected'\n\t\t\t\t\t\t\t\t\treturn ''\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\trowHeight={60}\n\t\t\t\t\t\t\t\tdensity=\"compact\"\n\t\t\t\t\t\t\t\thideFooterSelectedRowCount\n\t\t\t\t\t\t\t\teditMode=\"row\"\n\t\t\t\t\t\t\t\tdisableColumnMenu\n\t\t\t\t\t\t\t\tonRowClick={(v) => {\n\t\t\t\t\t\t\t\t\tsetSelected(v.row)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</>\n\t\t\t)}\n\t\t\t{(!onlyUse || onlyUse === 'doc') && (\n\t\t\t\t<>\n\t\t\t\t\t<Stack direction=\"row\" alignItems=\"center\" justifyContent=\"space-between\" gap={2}>\n\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\tfontWeight: 500,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tvariant=\"h6\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tファイル一覧\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Stack width={300}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tplaceholder=\"フィルター\"\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tvalue={filter.doc}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetFilter({ ...filter, doc: e.target.value })\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t<UploadDoc docs={docs} />\n\t\t\t\t\t</Stack>\n\t\t\t\t\t<Stack gap=\"2px\">\n\t\t\t\t\t\t<DataGrid\n\t\t\t\t\t\t\trows={docsFix}\n\t\t\t\t\t\t\tcolumns={[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tfield: 'name',\n\t\t\t\t\t\t\t\t\theaderName: 'ファイル名',\n\t\t\t\t\t\t\t\t\tflex: 1,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tfield: 'display',\n\t\t\t\t\t\t\t\t\theaderName: '',\n\t\t\t\t\t\t\t\t\tflex: 1,\n\t\t\t\t\t\t\t\t\trenderCell: (v) => {\n\t\t\t\t\t\t\t\t\t\tconst ext = v.row.ext\n\t\t\t\t\t\t\t\t\t\tlet icon = <AiOutlineFileUnknown fontSize={32} color=\"#ccc\" />\n\t\t\t\t\t\t\t\t\t\tif (ext.includes('doc')) {\n\t\t\t\t\t\t\t\t\t\t\ticon = <AiOutlineFileWord fontSize={32} color=\"#36f\" />\n\t\t\t\t\t\t\t\t\t\t} else if (ext.includes('xls')) {\n\t\t\t\t\t\t\t\t\t\t\ticon = <RiFileExcel2Line fontSize={32} color=\"#0a8\" />\n\t\t\t\t\t\t\t\t\t\t} else if (ext.includes('csv')) {\n\t\t\t\t\t\t\t\t\t\t\ticon = <PiFileCsvDuotone fontSize={32} color=\"#0a8\" />\n\t\t\t\t\t\t\t\t\t\t} else if (ext.includes('pdf')) {\n\t\t\t\t\t\t\t\t\t\t\ticon = <AiOutlineFilePdf fontSize={32} color=\"#c00\" />\n\t\t\t\t\t\t\t\t\t\t} else if (ext.includes('zip')) {\n\t\t\t\t\t\t\t\t\t\t\ticon = <AiOutlineFileZip fontSize={32} color=\"#e90\" />\n\t\t\t\t\t\t\t\t\t\t} else if (ext.includes('txt')) {\n\t\t\t\t\t\t\t\t\t\t\ticon = <BsFiletypeTxt fontSize={30} color=\"#36a\" />\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<Stack width=\"100%\" direction=\"row\" justifyContent=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{icon}\n\t\t\t\t\t\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tfield: 'size',\n\t\t\t\t\t\t\t\t\theaderName: 'サイズ',\n\t\t\t\t\t\t\t\t\twidth: 100,\n\t\t\t\t\t\t\t\t\trenderCell: (v) => {\n\t\t\t\t\t\t\t\t\t\treturn <Typography color=\"blue\">{Math.ceil(v.row.size / 1024)} kb</Typography>\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tfield: 'desc',\n\t\t\t\t\t\t\t\t\theaderName: '説明',\n\t\t\t\t\t\t\t\t\tflex: 2,\n\t\t\t\t\t\t\t\t\trenderCell: (v) => {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip title={v.row.desc} key={v.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t<p>{v.row.desc.length > 50 ? v.row.desc.slice(0, 50) + '...' : v.row.desc}</p>\n\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tfield: 'action',\n\t\t\t\t\t\t\t\t\theaderName: 'アクション',\n\t\t\t\t\t\t\t\t\twidth: 160,\n\t\t\t\t\t\t\t\t\trenderCell: (v) => {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"error\"\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\tsx={{ minWidth: 0 }}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetConfirmDelete(true)\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<DeleteIcon />\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\tinitialState={{\n\t\t\t\t\t\t\t\tpagination: {\n\t\t\t\t\t\t\t\t\tpaginationModel: { page: 0, pageSize: 10 },\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tpageSizeOptions={[10, 20, 30, 50]}\n\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t'& .MuiDataGrid-cell:focus': {\n\t\t\t\t\t\t\t\t\toutline: 'none',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t'& .MuiDataGrid-cell:focus-within': {\n\t\t\t\t\t\t\t\t\toutline: 'none',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t'& .MuiDataGrid-cell:hover': {},\n\t\t\t\t\t\t\t\t'& .MuiDataGrid-columnHeaders': {\n\t\t\t\t\t\t\t\t\tbgcolor: 'primary.dark',\n\t\t\t\t\t\t\t\t\tcolor: '#fff',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t'& .MuiDataGrid-columnHeaders svg': {\n\t\t\t\t\t\t\t\t\tcolor: '#fff',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\trowHeight={60}\n\t\t\t\t\t\t\tdensity=\"compact\"\n\t\t\t\t\t\t\thideFooterSelectedRowCount\n\t\t\t\t\t\t\teditMode=\"row\"\n\t\t\t\t\t\t\tdisableColumnMenu\n\t\t\t\t\t\t\tonRowClick={(v) => {\n\t\t\t\t\t\t\t\tsetSelected(v.row)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tgetRowClassName={(v) => {\n\t\t\t\t\t\t\t\tif (selected?.name === v.row.name) return 'row-selected'\n\t\t\t\t\t\t\t\treturn ''\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Stack>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</Stack>\n\t)\n}\n"],"names":["Transition","React","props","ref","_jsx","Slide","_objectSpread","direction","DialogConfirm","_ref","open","loading","_ref$title","title","_ref$maxWidth","maxWidth","_ref$primaryButton","primaryButton","_ref$closeButtonText","closeButtonText","_ref$primaryButtonTex","primaryButtonText","children","_ref$primaryButtonCol","primaryButtonColor","_ref$component","component","_ref$disabled","disabled","backdropClick","_ref$useEnterKey","useEnterKey","handleClose","handleSubmit","useEffect","enterPress","e","key","window","addEventListener","removeEventListener","_Fragment","Dialog","TransitionComponent","fullWidth","onClose","_e","reason","sx","opacity","margin","width","sm","md","_jsxs","Stack","spacing","DialogTitle","fontWeight","py","DialogContent","Box","maxHeight","DialogActions","justifyContent","alignItems","mb","LoadingButton","variant","color","size","onClick","type","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","preventDefault","stopPropagation","t0","stop","_x","apply","arguments","UploadDoc","docs","dispatch","useAppDispatch","_useState","useState","_useState2","_slicedToArray","file","setFile","form","useRef","_useState3","_useState4","setLoading","_useState5","_useState6","fileName","setFileName","_useState7","_useState8","desc","setDesc","_useState9","_useState10","ext","setExt","_useState11","_useState12","error","setError","refTimer","current","clearTimeout","setTimeout","find","f","name","concat","test","iconFile","useMemo","icon","AiOutlineFileUnknown","fontSize","includes","AiOutlineFileWord","RiFileExcel2Line","PiFileCsvDuotone","AiOutlineFilePdf","AiOutlineFileZip","BsFiletypeTxt","handleUpload","_form$current","formData","_yield$LOCAL_API$uplo","_error","message","abrupt","FormData","Promise","rs","blob","slice","File","append","JSON","stringify","LOCAL_API","upload","sent","UIAction","addGlobalMessage","reset","undefined","finish","Button","AiOutlineCloudUpload","style","marginRight","hidden","accept","onChange","_ref3","_callee2","_context2","target","files","length","split","join","trim","replace","pop","_form$current2","Typography","mt","TextField","required","autoFocus","value","onFocus","select","label","InputProps","endAdornment","InputAdornment","position","helperText","multiline","minRows","MAX_SIZE","loadCanvasAndResize","maxSize","rate","resolve","canvas","document","createElement","ctx","getContext","img","Image","src","URL","createObjectURL","onload","height","drawImage","toDataURL","onerror","rotateImage90Deg","base64","reject","save","translate","rotate","Math","PI","restore","rotateImageMinus90Deg","flipImage","scale","dataURLtoFile","dataurl","filename","arr","mime","match","bstr","atob","n","u8arr","Uint8Array","charCodeAt","UploadImage","images","svgFile","setSvgFile","svg","setSvg","_useState13","_useState14","_useState15","_useState16","image","setImage","_useState17","_useState18","cropData","setCropData","cropperRef","createRef","upFile","multiple","_ext","reader","alert","FileReader","_e$target","result","readAsDataURL","parse","outerHTML","gap","Cropper","zoomTo","initialAspectRatio","NaN","viewMode","minCropBoxHeight","minCropBoxWidth","background","responsive","autoCropArea","checkOrientation","guides","IconButton","_cropperRef$current","_cropperRef$current2","cropper","getCroppedCanvas","CropIcon","_callee3","tmp","_context3","RotateLeftIcon","_callee4","_context4","RotateRightIcon","_callee5","_context5","FlipIcon","objectFit","alt","TableViewButton","Object","assign","_objectDestructuringEmpty","mx","p","minWidth","MdOutlineGridView","ListViewButton","TfiViewListAlt","LocalFileDisplay","onlyUse","_ref$imgSize","imgSize","handleSelect","status","useAppSelector","s","FileLocal","getFileLocals","selected","setSelected","confirmDelete","setConfirmDelete","displayType","setDisplayType","doc","filter","setFilter","imgsFix","docsFix","_yield$LOCAL_API$dele","delete","id","display","placeholder","flexWrap","overflow","map","v","border","transition","borderColor","bgcolor","zIndex","cursor","path","top","left","flex","whiteSpace","textOverflow","ceil","DeleteIcon","Divider","DataGrid","rows","columns","field","headerName","renderCell","row","Tooltip","initialState","pagination","paginationModel","page","pageSize","pageSizeOptions","outline","getRowClassName","rowHeight","density","hideFooterSelectedRowCount","editMode","disableColumnMenu","onRowClick"],"sourceRoot":""}