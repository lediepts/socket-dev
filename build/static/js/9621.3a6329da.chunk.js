"use strict";(self.webpackChunkcaa_client=self.webpackChunkcaa_client||[]).push([[9621],{12457:function(e,n,t){t.d(n,{Z:function(){return x}});var r=t(74165),o=t(15861),i=t(1413),a=t(39709),c=t(53767),d=t(39157),s=t(68870),l=t(5574),u=t(97123),p=t(65661),f=t(55931),h=t(72791),m=t(80184),v=h.forwardRef((function(e,n){return(0,m.jsx)(f.Z,(0,i.Z)({direction:"down",ref:n},e))}));function x(e){var n=e.open,t=e.loading,i=e.title,f=void 0===i?"":i,x=e.maxWidth,Z=void 0===x?"sm":x,g=e.primaryButton,b=void 0===g||g,k=e.closeButtonText,j=void 0===k?"\u9589\u3058\u308b":k,w=e.primaryButtonText,C=void 0===w?"\u5b9f\u65bd\u3059\u308b":w,y=e.children,S=e.primaryButtonColor,I=void 0===S?"primary":S,z=e.component,B=void 0===z?"div":z,R=e.disabled,P=void 0!==R&&R,F=e.backdropClick,M=e.useEnterKey,E=void 0===M||M,N=e.handleClose,W=e.handleSubmit;return(0,h.useEffect)((function(){var e=function(e){"Enter"===e.key&&E&&W&&!P&&W()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[P,W,E]),(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(l.Z,{open:n,TransitionComponent:v,fullWidth:!0,maxWidth:Z,onClose:function(e,n){(F||"backdropClick"!==n)&&N()},sx:{"& .MuiPaper-root":{opacity:.98,margin:1,width:{sm:"100%",md:"95%"}}},children:(0,m.jsxs)(c.Z,{component:B,spacing:1,children:[(0,m.jsx)(p.Z,{sx:{fontWeight:"bold",py:1},children:f}),(0,m.jsx)(d.Z,{children:(0,m.jsx)(s.Z,{sx:{py:1,maxHeight:"75vh"},children:y})}),(0,m.jsx)(u.Z,{children:(0,m.jsxs)(c.Z,{width:"100%",direction:"row",justifyContent:"space-around",alignItems:"center",mb:1,children:[(0,m.jsx)(a.Z,{loading:t,variant:"outlined",color:"inherit",size:"small",sx:{width:100},onClick:function(){return N()},children:j}),b&&(0,m.jsx)(a.Z,{loading:t,variant:"contained",color:I,disabled:P,size:"small",type:"form"===B?"submit":"button",sx:{width:100},onClick:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),n.stopPropagation(),e.t0=W,!e.t0){e.next=6;break}return e.next=6,W();case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),children:C})]})})]})})})}},79621:function(e,n,t){t.r(n),t.d(n,{default:function(){return S}});var r=t(1413),o=t(74165),i=t(15861),a=t(93433),c=t(29439),d=t(44695),s=t(53767),l=t(27391),u=t(20890),p=t(36151),f=t(94454),h=t(78981),m=t(12457),v=t(87376),x=t(72791),Z=t(61134),g=t(16856),b=t(57689),k=t(48367),j=t(32896),w=t(94604),C=t(81724),y=t(80184);function S(){var e=(0,b.s0)(),n=(0,x.useState)(!1),t=(0,c.Z)(n,2),S=t[0],I=t[1],z=(0,x.useState)(!0),B=(0,c.Z)(z,2),R=B[0],P=B[1],F=(0,x.useState)(""),M=(0,c.Z)(F,2),E=M[0],N=M[1],W=(0,k.TL)(),L=(0,k.CG)((function(e){return e.Group.status}));(0,x.useEffect)((function(){"init"===L&&W((0,j.jA)())}),[]);var O=(0,k.CG)((function(e){return e.Group.list.filter((function(e){return 1!==e.id&&e.permission[v.g.CMS]>4}))})).reduce((function(e,n){return[].concat((0,a.Z)(e),(0,a.Z)(n.accounts))}),[]),T=(0,x.useMemo)((function(){return O.filter((function(e){return e.email.includes(E)||e.name.includes(E)}))}),[O,E]),H=C.Ry({email:C.Z_().required().email()}),q=(0,Z.cI)({resolver:(0,d.X)(H),defaultValues:{email:""}}),G=q.register,V=q.handleSubmit,D=q.formState.errors,_=(0,x.useState)([]),A=(0,c.Z)(_,2),K=A[0],X=A[1];(0,x.useEffect)((function(){return R||e(-1),function(){P(!1)}}),[e,R]);var J=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(n){var t,r,i,a;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.email,0!==K.length){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,I(!0),e.next=7,h.C.create({email:t,userIds:K.map((function(e){return e.id}))});case 7:r=e.sent,i=r.error,a=r.message,W(w.T9.addGlobalMessage({type:i?"error":"success",message:a})),P(!1);case 12:return e.prev=12,I(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[3,,12,15]])})));return function(n){return e.apply(this,arguments)}}();return(0,y.jsx)(m.Z,{open:R,loading:S,handleClose:function(){return P(!1)},title:"\u627f\u8a8d\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u767b\u9332",disabled:Object.keys(D).length>0||0===K.length,primaryButtonText:"\u767b\u9332",primaryButtonColor:"success",component:"form",maxWidth:"md",handleSubmit:V(J),children:(0,y.jsxs)(s.Z,{gap:1,children:[(0,y.jsx)(s.Z,{gap:1,flex:1,sx:{border:"1px solid #ccc",p:.5},children:(0,y.jsx)(l.Z,(0,r.Z)((0,r.Z)({variant:"standard",autoFocus:!0,required:!0,margin:"dense",fullWidth:!0,size:"small",label:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9",placeholder:"ex:xxx@caa.go.jp",InputLabelProps:{shrink:!0}},G("email")),{},{error:"email"in D}))}),(0,y.jsxs)(s.Z,{gap:1,flex:1,sx:{border:"1px solid #ccc",p:.5},children:[(0,y.jsxs)(s.Z,{sx:{bgcolor:"#eee",p:1,maxHeight:300,overflow:"auto"},gap:1,children:[(0,y.jsx)(u.Z,{children:"\u9078\u629e\u3057\u305f\u627f\u8a8d\u8005"}),(0,y.jsx)(s.Z,{direction:"row",flexWrap:"wrap",gap:1,children:K.map((function(e){return(0,y.jsxs)(s.Z,{direction:"row",alignItems:"center",sx:{border:"1px solid #ccc",px:.5},children:[(0,y.jsx)(u.Z,{variant:"caption",children:e.email}),(0,y.jsx)(p.Z,{color:"error",sx:{minWidth:0},onClick:function(){var n=K.filter((function(n){return n.id!==e.id}));X(n)},children:(0,y.jsx)(g.Ihk,{})})]},e.id)}))})]}),(0,y.jsxs)(s.Z,{sx:{border:"1px solid #ccc",height:"50vh",overflow:"auto",p:.5},children:[(0,y.jsx)(u.Z,{children:"\u627f\u8a8d\u53ef\u80fd\u8005"}),(0,y.jsx)(s.Z,{p:.5,children:(0,y.jsx)(l.Z,{variant:"outlined",margin:"dense",fullWidth:!0,size:"small",label:"\u30d5\u30a3\u30eb\u30bf\u30fc",InputLabelProps:{shrink:!0},value:E,onChange:function(e){return N(e.target.value)}})}),T.map((function(e){return(0,y.jsx)(s.Z,{px:.5,children:(0,y.jsxs)(s.Z,{direction:"row",alignItems:"center",gap:.5,children:[(0,y.jsx)(f.Z,{size:"small",sx:{p:0},checked:!!K.find((function(n){return n.id===e.id})),onChange:function(n){if(n.target.checked)X([].concat((0,a.Z)(K),[e]));else{var t=K.filter((function(n){return n.id!==e.id}));X(t)}}}),(0,y.jsx)(u.Z,{variant:"caption",children:e.email})]})},e.id)}))]})]})]})})}},94454:function(e,n,t){t.d(n,{Z:function(){return z}});var r=t(4942),o=t(63366),i=t(87462),a=t(72791),c=t(28182),d=t(94419),s=t(12065),l=t(97278),u=t(76189),p=t(80184),f=(0,u.Z)((0,p.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),h=(0,u.Z)((0,p.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),m=(0,u.Z)((0,p.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),v=t(14036),x=t(31402),Z=t(66934),g=t(75878),b=t(21217);function k(e){return(0,b.Z)("MuiCheckbox",e)}var j=(0,g.Z)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]),w=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],C=(0,Z.ZP)(l.Z,{shouldForwardProp:function(e){return(0,Z.FO)(e)||"classes"===e},name:"MuiCheckbox",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,t.indeterminate&&n.indeterminate,"default"!==t.color&&n["color".concat((0,v.Z)(t.color))]]}})((function(e){var n,t=e.theme,o=e.ownerState;return(0,i.Z)({color:(t.vars||t).palette.text.secondary},!o.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat("default"===o.color?t.vars.palette.action.activeChannel:t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,s.Fq)("default"===o.color?t.palette.action.active:t.palette[o.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==o.color&&(n={},(0,r.Z)(n,"&.".concat(j.checked,", &.").concat(j.indeterminate),{color:(t.vars||t).palette[o.color].main}),(0,r.Z)(n,"&.".concat(j.disabled),{color:(t.vars||t).palette.action.disabled}),n))})),y=(0,p.jsx)(h,{}),S=(0,p.jsx)(f,{}),I=(0,p.jsx)(m,{}),z=a.forwardRef((function(e,n){var t,r,s=(0,x.Z)({props:e,name:"MuiCheckbox"}),l=s.checkedIcon,u=void 0===l?y:l,f=s.color,h=void 0===f?"primary":f,m=s.icon,Z=void 0===m?S:m,g=s.indeterminate,b=void 0!==g&&g,j=s.indeterminateIcon,z=void 0===j?I:j,B=s.inputProps,R=s.size,P=void 0===R?"medium":R,F=s.className,M=(0,o.Z)(s,w),E=b?z:Z,N=b?z:u,W=(0,i.Z)({},s,{color:h,indeterminate:b,size:P}),L=function(e){var n=e.classes,t=e.indeterminate,r=e.color,o={root:["root",t&&"indeterminate","color".concat((0,v.Z)(r))]},a=(0,d.Z)(o,k,n);return(0,i.Z)({},n,a)}(W);return(0,p.jsx)(C,(0,i.Z)({type:"checkbox",inputProps:(0,i.Z)({"data-indeterminate":b},B),icon:a.cloneElement(E,{fontSize:null!=(t=E.props.fontSize)?t:P}),checkedIcon:a.cloneElement(N,{fontSize:null!=(r=N.props.fontSize)?r:P}),ownerState:W,ref:n,className:(0,c.Z)(L.root,F)},M,{classes:L}))}))},65661:function(e,n,t){var r=t(87462),o=t(63366),i=t(72791),a=t(28182),c=t(94419),d=t(20890),s=t(66934),l=t(31402),u=t(17673),p=t(85090),f=t(80184),h=["className","id"],m=(0,s.ZP)(d.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:function(e,n){return n.root}})({padding:"16px 24px",flex:"0 0 auto"}),v=i.forwardRef((function(e,n){var t=(0,l.Z)({props:e,name:"MuiDialogTitle"}),d=t.className,s=t.id,v=(0,o.Z)(t,h),x=t,Z=function(e){var n=e.classes;return(0,c.Z)({root:["root"]},u.a,n)}(x),g=i.useContext(p.Z).titleId,b=void 0===g?s:g;return(0,f.jsx)(m,(0,r.Z)({component:"h2",className:(0,a.Z)(Z.root,d),ownerState:x,ref:n,variant:"h6",id:null!=s?s:b},v))}));n.Z=v},97278:function(e,n,t){t.d(n,{Z:function(){return k}});var r=t(29439),o=t(63366),i=t(87462),a=t(72791),c=t(28182),d=t(94419),s=t(14036),l=t(66934),u=t(98278),p=t(52930),f=t(95080),h=t(75878),m=t(21217);function v(e){return(0,m.Z)("PrivateSwitchBase",e)}(0,h.Z)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);var x=t(80184),Z=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],g=(0,l.ZP)(f.Z)((function(e){var n=e.ownerState;return(0,i.Z)({padding:9,borderRadius:"50%"},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})})),b=(0,l.ZP)("input")({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),k=a.forwardRef((function(e,n){var t=e.autoFocus,a=e.checked,l=e.checkedIcon,f=e.className,h=e.defaultChecked,m=e.disabled,k=e.disableFocusRipple,j=void 0!==k&&k,w=e.edge,C=void 0!==w&&w,y=e.icon,S=e.id,I=e.inputProps,z=e.inputRef,B=e.name,R=e.onBlur,P=e.onChange,F=e.onFocus,M=e.readOnly,E=e.required,N=void 0!==E&&E,W=e.tabIndex,L=e.type,O=e.value,T=(0,o.Z)(e,Z),H=(0,u.Z)({controlled:a,default:Boolean(h),name:"SwitchBase",state:"checked"}),q=(0,r.Z)(H,2),G=q[0],V=q[1],D=(0,p.Z)(),_=m;D&&"undefined"===typeof _&&(_=D.disabled);var A="checkbox"===L||"radio"===L,K=(0,i.Z)({},e,{checked:G,disabled:_,disableFocusRipple:j,edge:C}),X=function(e){var n=e.classes,t=e.checked,r=e.disabled,o=e.edge,i={root:["root",t&&"checked",r&&"disabled",o&&"edge".concat((0,s.Z)(o))],input:["input"]};return(0,d.Z)(i,v,n)}(K);return(0,x.jsxs)(g,(0,i.Z)({component:"span",className:(0,c.Z)(X.root,f),centerRipple:!0,focusRipple:!j,disabled:_,tabIndex:null,role:void 0,onFocus:function(e){F&&F(e),D&&D.onFocus&&D.onFocus(e)},onBlur:function(e){R&&R(e),D&&D.onBlur&&D.onBlur(e)},ownerState:K,ref:n},T,{children:[(0,x.jsx)(b,(0,i.Z)({autoFocus:t,checked:a,defaultChecked:h,className:X.input,disabled:_,id:A?S:void 0,name:B,onChange:function(e){if(!e.nativeEvent.defaultPrevented){var n=e.target.checked;V(n),P&&P(e,n)}},readOnly:M,ref:z,required:N,ownerState:K,tabIndex:W,type:L},"checkbox"===L&&void 0===O?{}:{value:O},I)),G?l:y]}))}))}}]);
//# sourceMappingURL=9621.3a6329da.chunk.js.map