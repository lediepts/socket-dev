"use strict";(self.webpackChunkcaa_client=self.webpackChunkcaa_client||[]).push([[9511],{12457:function(e,t,n){n.d(t,{Z:function(){return g}});var i=n(74165),r=n(15861),o=n(1413),a=n(39709),s=n(53767),c=n(39157),l=n(68870),d=n(5574),u=n(97123),h=n(65661),f=n(55931),m=n(72791),p=n(80184),x=m.forwardRef((function(e,t){return(0,p.jsx)(f.Z,(0,o.Z)({direction:"down",ref:t},e))}));function g(e){var t=e.open,n=e.loading,o=e.title,f=void 0===o?"":o,g=e.maxWidth,v=void 0===g?"sm":g,w=e.primaryButton,Z=void 0===w||w,j=e.closeButtonText,b=void 0===j?"\u9589\u3058\u308b":j,C=e.primaryButtonText,y=void 0===C?"\u5b9f\u65bd\u3059\u308b":C,z=e.children,S=e.primaryButtonColor,k=void 0===S?"primary":S,M=e.component,I=void 0===M?"div":M,R=e.disabled,F=void 0!==R&&R,D=e.backdropClick,T=e.useEnterKey,W=void 0===T||T,P=e.handleClose,L=e.handleSubmit;return(0,m.useEffect)((function(){var e=function(e){"Enter"===e.key&&W&&L&&!F&&L()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[F,L,W]),(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(d.Z,{open:t,TransitionComponent:x,fullWidth:!0,maxWidth:v,onClose:function(e,t){(D||"backdropClick"!==t)&&P()},sx:{"& .MuiPaper-root":{opacity:.98,margin:1,width:{sm:"100%",md:"95%"}}},children:(0,p.jsxs)(s.Z,{component:I,spacing:1,children:[(0,p.jsx)(h.Z,{sx:{fontWeight:"bold",py:1},children:f}),(0,p.jsx)(c.Z,{children:(0,p.jsx)(l.Z,{sx:{py:1,maxHeight:"75vh"},children:z})}),(0,p.jsx)(u.Z,{children:(0,p.jsxs)(s.Z,{width:"100%",direction:"row",justifyContent:"space-around",alignItems:"center",mb:1,children:[(0,p.jsx)(a.Z,{loading:n,variant:"outlined",color:"inherit",size:"small",sx:{width:100},onClick:function(){return P()},children:b}),Z&&(0,p.jsx)(a.Z,{loading:n,variant:"contained",color:k,disabled:F,size:"small",type:"form"===I?"submit":"button",sx:{width:100},onClick:function(){var e=(0,r.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),t.stopPropagation(),e.t0=L,!e.t0){e.next=6;break}return e.next=6,L();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:y})]})})]})})})}},89511:function(e,t,n){n.d(t,{Z:function(){return K}});var i=n(1413),r=n(74165),o=n(15861),a=n(29439),s=n(27247),c=n(53767),l=n(20890),d=n(68870),u=n(27391),h=n(13400),f=n(94721),m=n(97639),p=n(96415),x=n(72791),g=n(78820),v=n(63524),w=n(17425),Z=n(48367),j=n(47014),b=n(94604),C=n(12457),y=n(36151),z=n(63466),S=n(39126),k=n(80184);function M(e){var t=e.docs,n=(0,Z.TL)(),i=(0,x.useState)(),s=(0,a.Z)(i,2),d=s[0],h=s[1],f=(0,x.useRef)(null),m=(0,x.useState)(!1),j=(0,a.Z)(m,2),M=j[0],I=j[1],R=(0,x.useState)(""),F=(0,a.Z)(R,2),D=F[0],T=F[1],W=(0,x.useState)(""),P=(0,a.Z)(W,2),L=P[0],E=P[1],G=(0,x.useState)(""),N=(0,a.Z)(G,2),U=N[0],_=N[1],H=(0,x.useState)(""),A=(0,a.Z)(H,2),B=A[0],O=A[1],J=(0,x.useRef)(null);(0,x.useEffect)((function(){return D&&(null!==J.current&&(window.clearTimeout(J.current),J.current=null),null===J.current&&(J.current=window.setTimeout((function(){t.find((function(e){return e.name==="".concat(D,".").concat(U)}))?O("\u65e2\u306b\u4f7f\u7528\u3055\u308c\u3066\u3044\u308b\u30d5\u30a1\u30a4\u30eb\u540d\u3067\u3059\u3002"):/^[A-z0-9_]+$/g.test(D)?O(""):O('\u4f7f\u7528\u53ef\u80fd\u306a\u6587\u5b57\u306f\u534a\u89d2\u82f1\u6570\u5b57\u3001"_"(\u30a2\u30f3\u30c0\u30fc\u30b9\u30b3\u30a2)\u3067\u3059\u3002\u82f1\u5b57\u306f\u5c0f\u6587\u5b57\u306e\u307f\u4f7f\u7528\u3067\u3059\u3002')}),200))),function(){null!==J.current&&window.clearTimeout(J.current)}}),[U,D,t]);var Y=(0,x.useMemo)((function(){var e=(0,k.jsx)(g.efz,{fontSize:44,color:"#ccc"});return U.includes("doc")?e=(0,k.jsx)(g.YPP,{fontSize:44,color:"#36f"}):U.includes("xls")?e=(0,k.jsx)(w.WlY,{fontSize:44,color:"#0a8"}):U.includes("csv")?e=(0,k.jsx)(v.ak_,{fontSize:44,color:"#0a8"}):U.includes("pdf")?e=(0,k.jsx)(g.ih9,{fontSize:44,color:"#c00"}):U.includes("zip")?e=(0,k.jsx)(g.bmP,{fontSize:44,color:"#e90"}):U.includes("txt")&&(e=(0,k.jsx)(S.J53,{fontSize:44,color:"#36a"})),e}),[U]),K=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var t,i,o,a,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d){e.next=2;break}return e.abrupt("return");case 2:return I(!0),e.prev=3,i=new FormData,e.next=7,new Promise((function(e){var t=d.slice(0,d.size,d.type),n=new File([t],"".concat(D,".").concat(U),{type:d.type});i.append("file",n),i.append("data",JSON.stringify({desc:L})),e(1)}));case 7:return e.next=9,p.u.upload({formData:i});case 9:o=e.sent,a=o.error,s=o.message,n(b.T9.addGlobalMessage({type:a?"error":"success",message:s})),null===(t=f.current)||void 0===t||t.reset(),h(void 0);case 15:return e.prev=15,I(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[3,,15,18]])})));return function(){return e.apply(this,arguments)}}();return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(y.Z,{variant:"contained",color:"warning",size:"small",component:"label",children:[(0,k.jsx)(g.IEK,{fontSize:20,style:{marginRight:4}}),"Upload",(0,k.jsx)("form",{ref:f,children:(0,k.jsx)("input",{hidden:!0,accept:".csv,.doc,.docx,.xls,.xlsx,.pdf,.zip,.txt",type:"file",onChange:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target.files&&t.target.files.length?(n=t.target.files[0],T(n.name.split(".").slice(0,-1).join("_").trim().replace(/\s|-/g,"_")),_(n.name.split(".").pop()||""),h(n)):h(void 0);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})})]}),d&&(0,k.jsxs)(C.Z,{component:"form",open:!!d,loading:M,disabled:!D.length||!!B,handleClose:function(){var e;null===(e=f.current)||void 0===e||e.reset(),h(void 0)},title:"",handleSubmit:K,primaryButtonText:"\u4fdd\u5b58",children:[(0,k.jsxs)(c.Z,{direction:"row",margin:"auto",width:"100%",alignItems:"center",children:[(0,k.jsx)(l.Z,{mt:1,children:Y}),(0,k.jsx)(u.Z,{fullWidth:!0,variant:"outlined",required:!0,autoFocus:!0,margin:"dense",size:"small",value:D,onChange:function(e){var t=e.target.value;T(t)},onFocus:function(e){return e.target.select()},label:"\u30d5\u30a1\u30a4\u30eb\u540d",InputProps:{endAdornment:(0,k.jsxs)(z.Z,{position:"end",children:[".",U]})},error:!!B,helperText:B})]}),(0,k.jsx)(u.Z,{fullWidth:!0,variant:"outlined",multiline:!0,minRows:3,margin:"dense",size:"small",value:L,onChange:function(e){var t=e.target.value;E(t)},label:"\u8aac\u660e"})]})]})}var I=n(54155),R=n(68683),F=n(21972),D=n(88350),T=(n(15580),n(53540)),W=n(59332),P=2e3;function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P,n=arguments.length>2?arguments[2]:void 0;return new Promise((function(i){var r=document.createElement("canvas"),o=r.getContext("2d");if(o){var a=new Image;a.src=URL.createObjectURL(e),a.onload=function(){n?(a.width/a.height>n?(r.width=a.height*n,r.height=a.height):(r.width=a.width,r.height=a.width/n),o.drawImage(a,r.width/2-a.width/2,r.height/2-a.height/2),i(r.toDataURL())):(r.width=a.width,r.height=a.height,a.width>a.height&&a.width>t?(r.width=t,r.height=t*a.height/a.width):a.height>a.width&&a.height>t?(r.width=t*a.width/a.height,r.height=t):(r.width=a.width,r.height=a.height),o.drawImage(a,0,0,r.width,r.height),i(r.toDataURL()))},a.onerror=function(){return i(r.toDataURL())}}}))}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e)return new Promise((function(t,n){var i=new Image;i.src=e,i.onerror=n;var r=document.createElement("canvas");i.onload=function(){r.width=i.height,r.height=i.width;var e=r.getContext("2d");e&&(e.save(),e.translate(r.width/2,r.height/2),e.rotate(Math.PI/2),e.drawImage(i,-i.width/2,-i.height/2),e.rotate(-Math.PI/2),e.translate(-r.width/2,-r.height/2),e.restore(),t(r.toDataURL()))}}))}function G(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e)return new Promise((function(t,n){var i=new Image;i.src=e,i.onerror=n;var r=document.createElement("canvas");i.onload=function(){r.width=i.height,r.height=i.width;var e=r.getContext("2d");e&&(e.save(),e.translate(r.width/2,r.height/2),e.rotate(-Math.PI/2),e.drawImage(i,-i.width/2,-i.height/2),e.rotate(Math.PI/2),e.translate(-r.width/2,-r.height/2),e.restore(),t(r.toDataURL()))}}))}function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e)return new Promise((function(t,n){var i=new Image;i.src=e,i.onerror=n;var r=document.createElement("canvas");i.onload=function(){r.width=i.width,r.height=i.height;var e=r.getContext("2d");e&&(e.save(),e.translate(r.width/2,r.height/2),e.scale(-1,1),e.drawImage(i,-i.width/2,-i.height/2,i.width,i.height),e.restore(),t(r.toDataURL()))}}))}function U(e,t){for(var n=e.split(","),i=n[0].match(/:(.*?);/)[1],r=atob(n[n.length-1]),o=r.length,a=new Uint8Array(o);o--;)a[o]=r.charCodeAt(o);return new File([a],t,{type:i})}function _(e){var t=e.images,n=(0,Z.TL)(),i=(0,x.useRef)(null),s=(0,x.useState)(!1),d=(0,a.Z)(s,2),f=d[0],m=d[1],v=(0,x.useState)(""),w=(0,a.Z)(v,2),j=w[0],S=w[1],M=(0,x.useState)(""),P=(0,a.Z)(M,2),_=P[0],H=P[1],A=(0,x.useState)(""),B=(0,a.Z)(A,2),O=B[0],J=B[1],Y=(0,x.useState)(),K=(0,a.Z)(Y,2),q=K[0],$=K[1],Q=(0,x.useState)(),V=(0,a.Z)(Q,2),X=V[0],ee=V[1],te=(0,x.useState)(""),ne=(0,a.Z)(te,2),ie=ne[0],re=ne[1],oe=(0,x.useRef)(null);(0,x.useEffect)((function(){return j&&(null!==oe.current&&(window.clearTimeout(oe.current),oe.current=null),null===oe.current&&(oe.current=window.setTimeout((function(){t.find((function(e){return e.name==="".concat(j,".").concat(O)}))?re("\u65e2\u306b\u4f7f\u7528\u3055\u308c\u3066\u3044\u308b\u30d5\u30a1\u30a4\u30eb\u540d\u3067\u3059\u3002"):/^[A-z0-9_]+$/g.test(j)?re(""):re('\u4f7f\u7528\u53ef\u80fd\u306a\u6587\u5b57\u306f\u534a\u89d2\u82f1\u6570\u5b57\u3001"_"(\u30a2\u30f3\u30c0\u30fc\u30b9\u30b3\u30a2)\u3067\u3059\u3002\u82f1\u5b57\u306f\u5c0f\u6587\u5b57\u306e\u307f\u4f7f\u7528\u3067\u3059\u3002')}),200))),function(){null!==oe.current&&window.clearTimeout(oe.current)}}),[O,j,t]);var ae=(0,x.useState)(),se=(0,a.Z)(ae,2),ce=se[0],le=se[1],de=(0,x.useState)(),ue=(0,a.Z)(de,2),he=ue[0],fe=ue[1],me=(0,x.createRef)();function pe(){var e;null===(e=i.current)||void 0===e||e.reset(),S(""),J(""),re(""),H(""),le(void 0),fe(void 0),$(void 0),ee(void 0)}var xe=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var t,i,o,a,s,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m(!0),e.prev=1,t=new FormData,!q){e.next=9;break}i=q.slice(0,q.size,q.type),o=new File([i],"".concat(j,".").concat(O),{type:q.type}),t.append("file",o),e.next=12;break;case 9:if(ce||he){e.next=11;break}return e.abrupt("return");case 11:t.append("file",U(he||ce||"","".concat(j,".").concat(O)));case 12:return t.append("data",JSON.stringify({desc:_})),e.next=15,p.u.upload({formData:t});case 15:a=e.sent,s=a.error,c=a.message,n(b.T9.addGlobalMessage({type:s?"error":"success",message:c})),pe();case 20:return e.prev=20,m(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[1,,20,23]])})));return function(){return e.apply(this,arguments)}}();return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(y.Z,{variant:"contained",color:"success",size:"small",component:"label",children:[(0,k.jsx)(g.IEK,{fontSize:20,style:{marginRight:4}}),"Upload",(0,k.jsx)("form",{ref:i,children:(0,k.jsx)("input",{hidden:!0,accept:".jpg,.jpeg,.png,.webp,.svg",multiple:!0,type:"file",onChange:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n,i,o,a,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($(void 0),!t.target.files||!t.target.files.length){e.next=15;break}if(!((n=t.target.files[0]).size>10485760)){e.next=6;break}return pe(),e.abrupt("return",alert("File is too big!"));case 6:return S(n.name.split(".").slice(0,-1).join("_").trim().replace(/\s|-/g,"_")),i=n.name.split(".").pop()||"",J(n.name.split(".").pop()||""),e.next=11,L(n);case 11:o=e.sent,"svg"===i?($(n),a=document.createElement("img"),(s=new FileReader).onload=function(e){var t;a.src=null===(t=e.target)||void 0===t?void 0:t.result,ee(a)},s.readAsDataURL(n)):(le(o),fe(o)),e.next=16;break;case 15:pe();case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})})]}),(ce||q)&&(0,k.jsx)(C.Z,{open:!0,loading:f,disabled:!j.length||!!ie,handleClose:function(){pe()},maxWidth:"lg",handleSubmit:xe,primaryButtonText:"\u4fdd\u5b58",children:(0,k.jsxs)(c.Z,{alignItems:"center",children:[X?(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)(c.Z,{alignItems:"center",justifyContent:"space-between",height:400,children:[(0,k.jsx)(l.Z,{variant:"h4",children:"\u4f7f\u7528\u753b\u50cf"}),(0,T.ZP)(X.outerHTML)]})}):(0,k.jsxs)(c.Z,{direction:"row",gap:1,mb:2,width:"100%",alignItems:"center",justifyContent:"center",children:[(0,k.jsxs)(c.Z,{alignItems:"center",justifyContent:"space-between",height:400,children:[(0,k.jsx)(l.Z,{variant:"h4",children:"\u5143\u753b\u50cf"}),(0,k.jsx)(W.Z,{ref:me,style:{height:350},zoomTo:.5,initialAspectRatio:NaN,src:ce,viewMode:1,minCropBoxHeight:50,minCropBoxWidth:50,background:!1,responsive:!0,autoCropArea:1,checkOrientation:!1,guides:!0})]}),(0,k.jsxs)(c.Z,{gap:2,children:[(0,k.jsx)(h.Z,{onClick:function(){var e,t;"undefined"!==typeof(null===(e=me.current)||void 0===e?void 0:e.cropper)&&fe(null===(t=me.current)||void 0===t?void 0:t.cropper.getCroppedCanvas().toDataURL())},children:(0,k.jsx)(I.Z,{})}),(0,k.jsx)(h.Z,{onClick:(0,o.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(he);case 2:t=e.sent,fe(t);case 4:case"end":return e.stop()}}),e)}))),children:(0,k.jsx)(F.Z,{})}),(0,k.jsx)(h.Z,{onClick:(0,o.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(he);case 2:t=e.sent,fe(t);case 4:case"end":return e.stop()}}),e)}))),children:(0,k.jsx)(D.Z,{})}),(0,k.jsx)(h.Z,{onClick:(0,o.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(he);case 2:t=e.sent,fe(t);case 4:case"end":return e.stop()}}),e)}))),children:(0,k.jsx)(R.Z,{})})]}),(0,k.jsxs)(c.Z,{alignItems:"center",justifyContent:"space-between",height:400,children:[(0,k.jsx)(l.Z,{variant:"h4",children:"\u4f7f\u7528\u753b\u50cf"}),(0,k.jsx)("img",{style:{width:"100%",height:350,objectFit:"contain"},src:he||ce,alt:"cropped"})]})]}),(0,k.jsxs)(c.Z,{width:600,children:[(0,k.jsx)(u.Z,{fullWidth:!0,variant:"outlined",required:!0,autoFocus:!0,margin:"dense",size:"small",value:j,onChange:function(e){var t=e.target.value;S(t)},onFocus:function(e){return e.target.select()},label:"\u30d5\u30a1\u30a4\u30eb\u540d",InputProps:{endAdornment:(0,k.jsxs)(z.Z,{position:"end",children:[".",O]})},error:!!ie,helperText:ie}),(0,k.jsx)(u.Z,{fullWidth:!0,variant:"outlined",multiline:!0,minRows:3,margin:"dense",size:"small",value:_,onChange:function(e){var t=e.target.value;H(t)},label:"\u8aac\u660e"})]})]})})]})}var H=n(58069),A=n(36459),B=n(16856);function O(e){var t=Object.assign({},((0,A.Z)(e),e));return(0,k.jsx)(y.Z,(0,i.Z)((0,i.Z)({size:"small",color:"inherit",variant:"contained"},t),{},{sx:(0,i.Z)({mx:.5,p:1,minWidth:0,fontSize:10},t.sx),children:(0,k.jsx)(B.uyC,{style:{fontSize:20}})}))}var J=n(20860);function Y(e){var t=Object.assign({},((0,A.Z)(e),e));return(0,k.jsx)(y.Z,(0,i.Z)((0,i.Z)({size:"small",color:"inherit",variant:"contained"},t),{},{sx:(0,i.Z)({mx:.5,p:1,minWidth:0,fontSize:10},t.sx),children:(0,k.jsx)(J.vO1,{style:{fontSize:20}})}))}function K(e){var t=e.onlyUse,n=e.maxHeight,y=e.select,z=e.imgSize,I=void 0===z?200:z,R=e.handleSelect,F=(0,Z.TL)(),D=(0,Z.CG)((function(e){return e.FileLocal.status}));(0,x.useEffect)((function(){"init"===D&&F((0,j.At)())}),[D,F]);var T=(0,Z.CG)((function(e){return e.FileLocal.images})),W=(0,Z.CG)((function(e){return e.FileLocal.docs})),P=(0,x.useState)(y),L=(0,a.Z)(P,2),E=L[0],G=L[1],N=(0,x.useState)(!1),U=(0,a.Z)(N,2),A=U[0],B=U[1],J=(0,x.useState)(!1),K=(0,a.Z)(J,2),q=K[0],$=K[1],Q=(0,x.useState)("list"),V=(0,a.Z)(Q,2),X=V[0],ee=V[1],te=(0,x.useState)({img:"",doc:""}),ne=(0,a.Z)(te,2),ie=ne[0],re=ne[1];(0,x.useEffect)((function(){R&&E&&R(E)}),[E]);var oe=(0,x.useMemo)((function(){return T.filter((function(e){return e.desc.includes(ie.img)||e.name.includes(ie.img)}))}),[ie.img,T]),ae=(0,x.useMemo)((function(){return W.filter((function(e){return e.desc.includes(ie.doc)||e.name.includes(ie.doc)}))}),[ie.doc,W]);return(0,k.jsxs)(c.Z,{gap:1,children:[!R&&(0,k.jsx)(C.Z,{open:A,loading:q,primaryButtonColor:"error",primaryButtonText:"\u524a\u9664",maxWidth:"xs",handleClose:function(){B(!1),G(void 0)},handleSubmit:(0,o.Z)((0,r.Z)().mark((function e(){var t,n,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E){e.next=2;break}return e.abrupt("return");case 2:return $(!0),e.prev=3,e.next=6,p.u.delete(E.id);case 6:t=e.sent,n=t.error,i=t.message,F(b.T9.addGlobalMessage({type:n?"error":"success",message:i})),B(!1),G(void 0);case 12:return e.prev=12,$(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[3,,12,15]])}))),children:(0,k.jsx)(l.Z,{children:"\u30d5\u30a1\u30a4\u30eb".concat(null===E||void 0===E?void 0:E.name,"\u3092\u524a\u9664\u3057\u3066\u3082\u3044\u3044\u3067\u3059\u304b")})}),(!t||"img"===t)&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(c.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",gap:2,sx:{},children:[(0,k.jsxs)(c.Z,{direction:"row",alignItems:"center",gap:4,children:[(0,k.jsx)(l.Z,{sx:{fontWeight:500},variant:"h6",children:"\u753b\u50cf\u4e00\u89a7"}),(0,k.jsxs)(d.Z,{sx:{display:"flex",gap:2,color:"#666"},children:[(0,k.jsx)(Y,{color:"list"===X?"info":"inherit",onClick:function(){ee("list")}}),(0,k.jsx)(O,{color:"thumbnail"===X?"info":"inherit",onClick:function(){ee("thumbnail")}})]})]}),(0,k.jsx)(c.Z,{width:300,children:(0,k.jsx)(u.Z,{placeholder:"\u30d5\u30a3\u30eb\u30bf\u30fc",size:"small",value:ie.img,onChange:function(e){re((0,i.Z)((0,i.Z)({},ie),{},{img:e.target.value}))}})}),(0,k.jsx)(_,{images:T})]}),"thumbnail"===X?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(c.Z,{direction:"row",gap:.5,mt:2,flexWrap:"wrap",maxHeight:n,overflow:"auto",children:oe.map((function(e){return(0,k.jsxs)(c.Z,{width:I,sx:{position:"relative",border:"2px solid",transition:"all 200ms",borderColor:(null===E||void 0===E?void 0:E.name)===e.name?"#00f !important":"#eee8",bgcolor:(null===E||void 0===E?void 0:E.name)===e.name?"#00f2":"#fff","&:hover":{zIndex:999,cursor:"pointer",borderColor:"#ccc"}},onClick:function(){G(e)},children:[(0,k.jsx)(d.Z,{component:"img",src:e.path,alt:"",height:I,sx:{objectFit:"contain"}}),(0,k.jsx)(c.Z,{sx:{position:"absolute",top:0,left:0,bgcolor:"#aaaa",width:"100%",p:1,transition:"all 300ms"},children:(0,k.jsxs)(c.Z,{direction:"row",justifyContent:"space-between",alignItems:"flex-start",sx:{width:"100%"},children:[(0,k.jsxs)(d.Z,{flex:1,width:"80%",children:[(0,k.jsx)(l.Z,{color:"#304",sx:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",maxWidth:"100%"},children:e.name}),(0,k.jsxs)(l.Z,{variant:"caption",color:"blue",children:[Math.ceil(e.size/1024)," kb"]})]}),!R&&(0,k.jsx)(h.Z,{color:"error",size:"small",sx:{minWidth:0},onClick:function(){B(!0)},children:(0,k.jsx)(s.Z,{})})]})})]},e.name)}))}),(0,k.jsx)(f.Z,{})]}):(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(H._,{rows:oe,columns:[{field:"name",headerName:"\u30d5\u30a1\u30a4\u30eb\u540d",flex:1},{field:"display",headerName:"",flex:1,renderCell:function(e){return(0,k.jsx)(d.Z,{component:"img",src:e.row.path,alt:"",height:I,sx:{objectFit:"contain",height:"100%"}})}},{field:"size",headerName:"\u30b5\u30a4\u30ba",width:100,renderCell:function(e){return(0,k.jsxs)(l.Z,{color:"blue",children:[Math.ceil(e.row.size/1024)," kb"]})}},{field:"desc",headerName:"\u8aac\u660e",flex:2,renderCell:function(e){return(0,k.jsx)(m.Z,{title:e.row.desc,children:(0,k.jsx)("p",{children:e.row.desc.length>50?e.row.desc.slice(0,50)+"...":e.row.desc})},e.id)}},{field:"action",headerName:"\u30a2\u30af\u30b7\u30e7\u30f3",width:160,renderCell:function(e){return(0,k.jsx)(h.Z,{color:"error",size:"small",sx:{minWidth:0},onClick:function(){B(!0)},children:(0,k.jsx)(s.Z,{})})}}],initialState:{pagination:{paginationModel:{page:0,pageSize:10}}},pageSizeOptions:[10,20,30,50],sx:{"& .MuiDataGrid-cell:focus":{outline:"none"},"& .MuiDataGrid-cell:focus-within":{outline:"none"},"& .MuiDataGrid-cell:hover":{},"& .MuiDataGrid-columnHeaders":{bgcolor:"primary.dark",color:"#fff"},"& .MuiDataGrid-columnHeaders svg":{color:"#fff"}},getRowClassName:function(e){return(null===E||void 0===E?void 0:E.name)===e.row.name?"row-selected":""},rowHeight:60,density:"compact",hideFooterSelectedRowCount:!0,editMode:"row",disableColumnMenu:!0,onRowClick:function(e){G(e.row)}})})]}),(!t||"doc"===t)&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(c.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",gap:2,children:[(0,k.jsx)(l.Z,{sx:{fontWeight:500},variant:"h6",children:"\u30d5\u30a1\u30a4\u30eb\u4e00\u89a7"}),(0,k.jsx)(c.Z,{width:300,children:(0,k.jsx)(u.Z,{placeholder:"\u30d5\u30a3\u30eb\u30bf\u30fc",size:"small",value:ie.doc,onChange:function(e){re((0,i.Z)((0,i.Z)({},ie),{},{doc:e.target.value}))}})}),(0,k.jsx)(M,{docs:W})]}),(0,k.jsx)(c.Z,{gap:"2px",children:(0,k.jsx)(H._,{rows:ae,columns:[{field:"name",headerName:"\u30d5\u30a1\u30a4\u30eb\u540d",flex:1},{field:"display",headerName:"",flex:1,renderCell:function(e){var t=e.row.ext,n=(0,k.jsx)(g.efz,{fontSize:32,color:"#ccc"});return t.includes("doc")?n=(0,k.jsx)(g.YPP,{fontSize:32,color:"#36f"}):t.includes("xls")?n=(0,k.jsx)(w.WlY,{fontSize:32,color:"#0a8"}):t.includes("csv")?n=(0,k.jsx)(v.ak_,{fontSize:32,color:"#0a8"}):t.includes("pdf")?n=(0,k.jsx)(g.ih9,{fontSize:32,color:"#c00"}):t.includes("zip")?n=(0,k.jsx)(g.bmP,{fontSize:32,color:"#e90"}):t.includes("txt")&&(n=(0,k.jsx)(S.J53,{fontSize:30,color:"#36a"})),(0,k.jsx)(c.Z,{width:"100%",direction:"row",justifyContent:"center",children:n})}},{field:"size",headerName:"\u30b5\u30a4\u30ba",width:100,renderCell:function(e){return(0,k.jsxs)(l.Z,{color:"blue",children:[Math.ceil(e.row.size/1024)," kb"]})}},{field:"desc",headerName:"\u8aac\u660e",flex:2,renderCell:function(e){return(0,k.jsx)(m.Z,{title:e.row.desc,children:(0,k.jsx)("p",{children:e.row.desc.length>50?e.row.desc.slice(0,50)+"...":e.row.desc})},e.id)}},{field:"action",headerName:"\u30a2\u30af\u30b7\u30e7\u30f3",width:160,renderCell:function(e){return(0,k.jsx)(h.Z,{color:"error",size:"small",sx:{minWidth:0},onClick:function(){B(!0)},children:(0,k.jsx)(s.Z,{})})}}],initialState:{pagination:{paginationModel:{page:0,pageSize:10}}},pageSizeOptions:[10,20,30,50],sx:{"& .MuiDataGrid-cell:focus":{outline:"none"},"& .MuiDataGrid-cell:focus-within":{outline:"none"},"& .MuiDataGrid-cell:hover":{},"& .MuiDataGrid-columnHeaders":{bgcolor:"primary.dark",color:"#fff"},"& .MuiDataGrid-columnHeaders svg":{color:"#fff"}},rowHeight:60,density:"compact",hideFooterSelectedRowCount:!0,editMode:"row",disableColumnMenu:!0,onRowClick:function(e){G(e.row)},getRowClassName:function(e){return(null===E||void 0===E?void 0:E.name)===e.row.name?"row-selected":""}})})]})]})}}}]);
//# sourceMappingURL=9511.f9b9b9ed.chunk.js.map