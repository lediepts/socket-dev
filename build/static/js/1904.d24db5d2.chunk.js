"use strict";(self.webpackChunkcaa_client=self.webpackChunkcaa_client||[]).push([[1904],{43859:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(1413),o=t(36459),i=t(36151),c=t(78820),a=t(80184);function s(e){var n=Object.assign({},((0,o.Z)(e),e));return(0,a.jsxs)(i.Z,(0,r.Z)((0,r.Z)({size:"small",color:"error",variant:"outlined"},n),{},{sx:(0,r.Z)({mx:.5,px:.5,py:.2,minWidth:0,fontSize:10},n.sx),children:[(0,a.jsx)(c.ql3,{style:{fontSize:20}}),n.text]}))}},51904:function(e,n,t){t.r(n),t.d(n,{default:function(){return z}});var r=t(74165),o=t(15861),i=t(93433),c=t(29439),a=t(53329),s=t(39709),d=t(53767),l=t(20890),u=t(36151),p=t(27391),f=t(94454),h=t(78981),v=t(43859),x=t(87376),Z=t(72791),m=t(16856),g=t(57689),b=t(11087),k=t(48367),j=t(32896),C=t(94604),w=t(23133),y=t(80184);function z(){var e=(0,g.UO)().id,n=(0,k.TL)(),t=(0,g.TH)(),z=(0,k.CG)((function(e){return e.UI.tokenInfo})),I=(0,k.CG)((function(e){return e.WebAuthor.status})),S=(0,k.CG)((function(e){return e.WebAuthor.list})).find((function(n){return n.id===parseInt(e||"")}));(0,Z.useEffect)((function(){"init"===I&&n((0,w.U)())}),[]);var P=(0,Z.useState)(""),F=(0,c.Z)(P,2),R=F[0],B=F[1],M=(0,k.CG)((function(e){return e.Group.status}));(0,Z.useEffect)((function(){"init"===M&&n((0,j.jA)())}),[]);var H=(0,Z.useState)(!1),O=(0,c.Z)(H,2),E=O[0],G=O[1],N=(0,Z.useState)([]),W=(0,c.Z)(N,2),V=W[0],q=W[1];(0,Z.useEffect)((function(){0===V.length&&S&&q(S.accounts)}),[S]);var L=(0,k.CG)((function(e){return e.Group.list.filter((function(e){return 1!==e.id&&e.permission[x.g.CMS]>4}))})).reduce((function(e,n){return[].concat((0,i.Z)(e),(0,i.Z)(n.accounts))}),[]),T=(0,Z.useMemo)((function(){return L.filter((function(e){return e.email.includes(R)||e.name.includes(R)}))}),[L,R]);return e&&z&&S?(0,y.jsxs)(d.Z,{gap:1,my:2,children:[(0,y.jsxs)(d.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",gap:2,sx:{},children:[(0,y.jsx)(l.Z,{color:"primary.dark",variant:"h5",sx:{fontWeight:600},children:"\u627f\u8a8d\u30e1\u30fc\u30eb\u8a2d\u5b9a"}),(0,y.jsx)(b.rU,{to:"/author/".concat(e,"/delete"),state:{location:t},children:(0,y.jsx)(v.Z,{text:"\u524a\u9664",sx:{width:150,py:"2px",fontSize:14}})})]}),(0,y.jsxs)(d.Z,{alignItems:"stretch",gap:1,children:[(0,y.jsxs)(d.Z,{gap:1,flex:1,sx:{border:"1px solid #ccc",p:.5},children:[(0,y.jsxs)(d.Z,{sx:{bgcolor:"#eee",p:1,maxHeight:300,overflow:"auto"},gap:1,children:[(0,y.jsx)(l.Z,{children:"\u9078\u629e\u3057\u305f\u627f\u8a8d\u8005"}),(0,y.jsx)(d.Z,{direction:"row",flexWrap:"wrap",gap:1,children:V.map((function(e){return(0,y.jsxs)(d.Z,{direction:"row",alignItems:"center",sx:{border:"1px solid #ccc",px:.5},children:[(0,y.jsx)(l.Z,{variant:"caption",children:e.email}),(0,y.jsx)(u.Z,{color:"error",sx:{minWidth:0},onClick:function(){var n=V.filter((function(n){return n.id!==e.id}));q(n)},children:(0,y.jsx)(m.Ihk,{})})]},e.id)}))})]}),(0,y.jsxs)(d.Z,{sx:{border:"1px solid #ccc",height:"50vh",overflow:"auto",p:.5},children:[(0,y.jsx)(l.Z,{children:"\u627f\u8a8d\u53ef\u80fd\u8005"}),(0,y.jsx)(d.Z,{p:.5,children:(0,y.jsx)(p.Z,{variant:"outlined",margin:"dense",fullWidth:!0,size:"small",label:"\u30d5\u30a3\u30eb\u30bf\u30fc",InputLabelProps:{shrink:!0},value:R,onChange:function(e){return B(e.target.value)}})}),T.map((function(e){return(0,y.jsx)(d.Z,{px:.5,children:(0,y.jsxs)(d.Z,{direction:"row",alignItems:"center",gap:.5,children:[(0,y.jsx)(f.Z,{size:"small",sx:{p:0},checked:!!V.find((function(n){return n.id===e.id})),onChange:function(n){if(n.target.checked)q([].concat((0,i.Z)(V),[e]));else{var t=V.filter((function(n){return n.id!==e.id}));q(t)}}}),(0,y.jsx)(l.Z,{variant:"caption",children:e.email})]})},e.id)}))]})]}),(0,y.jsx)(d.Z,{children:(0,y.jsx)(s.Z,{sx:{display:"flex",width:160},disabled:0===V.length,loading:E,loadingPosition:"start",startIcon:(0,y.jsx)(a.Z,{}),variant:"outlined",color:"warning",onClick:(0,o.Z)((0,r.Z)().mark((function e(){var t,o,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,G(!0),e.next=4,h.C.update({email:S.email,userIds:V.map((function(e){return e.id}))});case 4:t=e.sent,o=t.error,i=t.message,n(C.T9.addGlobalMessage({type:o?"error":"success",message:i}));case 8:return e.prev=8,G(!1),e.finish(8);case 11:case"end":return e.stop()}}),e,null,[[0,,8,11]])}))),children:"\u4fdd\u5b58\u3059\u308b"})})]})]}):null}},53329:function(e,n,t){var r=t(64836);n.Z=void 0;var o=r(t(45649)),i=t(80184),c=(0,o.default)((0,i.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");n.Z=c},94454:function(e,n,t){t.d(n,{Z:function(){return S}});var r=t(4942),o=t(63366),i=t(87462),c=t(72791),a=t(28182),s=t(94419),d=t(12065),l=t(97278),u=t(76189),p=t(80184),f=(0,u.Z)((0,p.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),h=(0,u.Z)((0,p.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),v=(0,u.Z)((0,p.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),x=t(14036),Z=t(31402),m=t(66934),g=t(75878),b=t(21217);function k(e){return(0,b.Z)("MuiCheckbox",e)}var j=(0,g.Z)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]),C=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],w=(0,m.ZP)(l.Z,{shouldForwardProp:function(e){return(0,m.FO)(e)||"classes"===e},name:"MuiCheckbox",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,t.indeterminate&&n.indeterminate,"default"!==t.color&&n["color".concat((0,x.Z)(t.color))]]}})((function(e){var n,t=e.theme,o=e.ownerState;return(0,i.Z)({color:(t.vars||t).palette.text.secondary},!o.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat("default"===o.color?t.vars.palette.action.activeChannel:t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,d.Fq)("default"===o.color?t.palette.action.active:t.palette[o.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==o.color&&(n={},(0,r.Z)(n,"&.".concat(j.checked,", &.").concat(j.indeterminate),{color:(t.vars||t).palette[o.color].main}),(0,r.Z)(n,"&.".concat(j.disabled),{color:(t.vars||t).palette.action.disabled}),n))})),y=(0,p.jsx)(h,{}),z=(0,p.jsx)(f,{}),I=(0,p.jsx)(v,{}),S=c.forwardRef((function(e,n){var t,r,d=(0,Z.Z)({props:e,name:"MuiCheckbox"}),l=d.checkedIcon,u=void 0===l?y:l,f=d.color,h=void 0===f?"primary":f,v=d.icon,m=void 0===v?z:v,g=d.indeterminate,b=void 0!==g&&g,j=d.indeterminateIcon,S=void 0===j?I:j,P=d.inputProps,F=d.size,R=void 0===F?"medium":F,B=d.className,M=(0,o.Z)(d,C),H=b?S:m,O=b?S:u,E=(0,i.Z)({},d,{color:h,indeterminate:b,size:R}),G=function(e){var n=e.classes,t=e.indeterminate,r=e.color,o={root:["root",t&&"indeterminate","color".concat((0,x.Z)(r))]},c=(0,s.Z)(o,k,n);return(0,i.Z)({},n,c)}(E);return(0,p.jsx)(w,(0,i.Z)({type:"checkbox",inputProps:(0,i.Z)({"data-indeterminate":b},P),icon:c.cloneElement(H,{fontSize:null!=(t=H.props.fontSize)?t:R}),checkedIcon:c.cloneElement(O,{fontSize:null!=(r=O.props.fontSize)?r:R}),ownerState:E,ref:n,className:(0,a.Z)(G.root,B)},M,{classes:G}))}))},97278:function(e,n,t){t.d(n,{Z:function(){return k}});var r=t(29439),o=t(63366),i=t(87462),c=t(72791),a=t(28182),s=t(94419),d=t(14036),l=t(66934),u=t(98278),p=t(52930),f=t(95080),h=t(75878),v=t(21217);function x(e){return(0,v.Z)("PrivateSwitchBase",e)}(0,h.Z)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);var Z=t(80184),m=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],g=(0,l.ZP)(f.Z)((function(e){var n=e.ownerState;return(0,i.Z)({padding:9,borderRadius:"50%"},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})})),b=(0,l.ZP)("input")({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),k=c.forwardRef((function(e,n){var t=e.autoFocus,c=e.checked,l=e.checkedIcon,f=e.className,h=e.defaultChecked,v=e.disabled,k=e.disableFocusRipple,j=void 0!==k&&k,C=e.edge,w=void 0!==C&&C,y=e.icon,z=e.id,I=e.inputProps,S=e.inputRef,P=e.name,F=e.onBlur,R=e.onChange,B=e.onFocus,M=e.readOnly,H=e.required,O=void 0!==H&&H,E=e.tabIndex,G=e.type,N=e.value,W=(0,o.Z)(e,m),V=(0,u.Z)({controlled:c,default:Boolean(h),name:"SwitchBase",state:"checked"}),q=(0,r.Z)(V,2),L=q[0],T=q[1],U=(0,p.Z)(),A=v;U&&"undefined"===typeof A&&(A=U.disabled);var _="checkbox"===G||"radio"===G,D=(0,i.Z)({},e,{checked:L,disabled:A,disableFocusRipple:j,edge:w}),J=function(e){var n=e.classes,t=e.checked,r=e.disabled,o=e.edge,i={root:["root",t&&"checked",r&&"disabled",o&&"edge".concat((0,d.Z)(o))],input:["input"]};return(0,s.Z)(i,x,n)}(D);return(0,Z.jsxs)(g,(0,i.Z)({component:"span",className:(0,a.Z)(J.root,f),centerRipple:!0,focusRipple:!j,disabled:A,tabIndex:null,role:void 0,onFocus:function(e){B&&B(e),U&&U.onFocus&&U.onFocus(e)},onBlur:function(e){F&&F(e),U&&U.onBlur&&U.onBlur(e)},ownerState:D,ref:n},W,{children:[(0,Z.jsx)(b,(0,i.Z)({autoFocus:t,checked:c,defaultChecked:h,className:J.input,disabled:A,id:_?z:void 0,name:P,onChange:function(e){if(!e.nativeEvent.defaultPrevented){var n=e.target.checked;T(n),R&&R(e,n)}},readOnly:M,ref:S,required:O,ownerState:D,tabIndex:E,type:G},"checkbox"===G&&void 0===N?{}:{value:N},I)),L?l:y]}))}))},36459:function(e,n,t){function r(e){if(null==e)throw new TypeError("Cannot destructure "+e)}t.d(n,{Z:function(){return r}})}}]);
//# sourceMappingURL=1904.d24db5d2.chunk.js.map