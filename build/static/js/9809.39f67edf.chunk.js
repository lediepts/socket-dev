"use strict";(self.webpackChunkcaa_client=self.webpackChunkcaa_client||[]).push([[9809],{43859:function(e,n,i){i.d(n,{Z:function(){return l}});var t=i(1413),r=i(36459),a=i(36151),o=i(78820),s=i(80184);function l(e){var n=Object.assign({},((0,r.Z)(e),e));return(0,s.jsxs)(a.Z,(0,t.Z)((0,t.Z)({size:"small",color:"error",variant:"outlined"},n),{},{sx:(0,t.Z)({mx:.5,px:.5,py:.2,minWidth:0,fontSize:10},n.sx),children:[(0,s.jsx)(o.ql3,{style:{fontSize:20}}),n.text]}))}},12457:function(e,n,i){i.d(n,{Z:function(){return Z}});var t=i(74165),r=i(15861),a=i(1413),o=i(39709),s=i(53767),l=i(39157),d=i(68870),c=i(5574),u=i(97123),p=i(65661),m=i(55931),x=i(72791),f=i(80184),v=x.forwardRef((function(e,n){return(0,f.jsx)(m.Z,(0,a.Z)({direction:"down",ref:n},e))}));function Z(e){var n=e.open,i=e.loading,a=e.title,m=void 0===a?"":a,Z=e.maxWidth,h=void 0===Z?"sm":Z,g=e.primaryButton,b=void 0===g||g,j=e.closeButtonText,y=void 0===j?"\u9589\u3058\u308b":j,w=e.primaryButtonText,I=void 0===w?"\u5b9f\u65bd\u3059\u308b":w,N=e.children,E=e.primaryButtonColor,k=void 0===E?"primary":E,S=e.component,T=void 0===S?"div":S,M=e.disabled,C=void 0!==M&&M,z=e.backdropClick,P=e.useEnterKey,q=void 0===P||P,W=e.handleClose,L=e.handleSubmit;return(0,x.useEffect)((function(){var e=function(e){"Enter"===e.key&&q&&L&&!C&&L()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[C,L,q]),(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(c.Z,{open:n,TransitionComponent:v,fullWidth:!0,maxWidth:h,onClose:function(e,n){(z||"backdropClick"!==n)&&W()},sx:{"& .MuiPaper-root":{opacity:.98,margin:1,width:{sm:"100%",md:"95%"}}},children:(0,f.jsxs)(s.Z,{component:T,spacing:1,children:[(0,f.jsx)(p.Z,{sx:{fontWeight:"bold",py:1},children:m}),(0,f.jsx)(l.Z,{children:(0,f.jsx)(d.Z,{sx:{py:1,maxHeight:"75vh"},children:N})}),(0,f.jsx)(u.Z,{children:(0,f.jsxs)(s.Z,{width:"100%",direction:"row",justifyContent:"space-around",alignItems:"center",mb:1,children:[(0,f.jsx)(o.Z,{loading:i,variant:"outlined",color:"inherit",size:"small",sx:{width:100},onClick:function(){return W()},children:y}),b&&(0,f.jsx)(o.Z,{loading:i,variant:"contained",color:k,disabled:C,size:"small",type:"form"===T?"submit":"button",sx:{width:100},onClick:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),n.stopPropagation(),e.t0=L,!e.t0){e.next=6;break}return e.next=6,L();case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),children:I})]})})]})})})}},61059:function(e,n,i){i.d(n,{Z:function(){return k}});var t=i(1413),r=i(74165),a=i(4942),o=i(15861),s=i(29439),l=i(44695),d=i(39709),c=i(68870),u=i(53767),p=i(27391),m=i(63466),x=i(36151),f=i(20890),v=i(66888),Z=i(16386),h=i(72791),g=i(61134),b=i(78820),j=i(20458),y=i(48367),w=i(94604),I=i(60251),N=i(81724),E=i(80184);function k(e){var n,i=e.apiEndpoint,k=e.fieldName,S=(e.max,e.min,e.multiline),T=e.rows,M=e.label,C=e.subText,z=e.value,P=void 0===z?"":z,q=e.required,W=void 0!==q&&q,L=e.datePicker,R=e.readOnly,D=e.useGroupName,A=e.group,V=e.render,B=N.Ry({}),_=(0,y.TL)(),F=(0,h.useState)(!1),G=(0,s.Z)(F,2),H=G[0],O=G[1],U=(0,h.useState)(!1),K=(0,s.Z)(U,2),X=K[0],J=K[1],Q=(0,h.useRef)(null),Y=(0,g.cI)({resolver:(0,l.X)(B),defaultValues:{value:L?P?new Date(P):null:D&&"string"===typeof P?P.replace("[".concat(null===A||void 0===A?void 0:A.name,"]"),""):P}}),$=Y.register,ee=Y.handleSubmit,ne=Y.formState.errors,ie=Y.setValue,te=Y.getValues,re=Y.setError,ae=Y.reset;(0,h.useEffect)((function(){if(P){var e=D&&"string"===typeof P?P.replace("[".concat(null===A||void 0===A?void 0:A.name,"]"),""):P;ie("value",e,{shouldValidate:!0})}}),[P]),(0,h.useEffect)((function(){var e,n,i,t;Q.current&&(X?(null===(e=Q.current.querySelector("input"))||void 0===e||e.focus(),null===(n=Q.current.querySelector("input"))||void 0===n||n.focus()):(null===(i=Q.current.querySelector("input"))||void 0===i||i.blur(),null===(t=Q.current.querySelector("input"))||void 0===t||t.blur()))}),[X]);var oe=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(n){var t,o,s,l,d,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.value,!i||!k){e.next=17;break}return O(!0),e.prev=3,e.next=6,I.Z.put(i,(0,a.Z)({},k,D&&"string"===typeof t?"[".concat(null===A||void 0===A?void 0:A.name,"]").concat(t):t));case 6:o=e.sent,s=o.data,l=s.message,d=void 0===l?"":l,c=s.error,J(!1),_(w.T9.addGlobalMessage({message:d,type:c?"error":"success"})),ae();case 14:return e.prev=14,O(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[3,,14,17]])})));return function(n){return e.apply(this,arguments)}}();return(0,E.jsx)(c.Z,{component:"form",noValidate:!0,autoComplete:"off",onSubmit:ee(oe),my:1,children:X?(0,E.jsxs)(u.Z,{direction:{md:"row",xs:"column"},alignItems:"center",sx:{display:X?"flex":"none",maxWidth:{md:500,xs:300}},ref:Q,children:[L?(0,E.jsx)(v.M,{label:M,inputFormat:"yyyy\u5e74MM\u6708dd\u65e5",value:te("value")||null,onChange:function(e){e&&e instanceof Date&&!isNaN(e.valueOf())&&ie("value",e,{shouldValidate:!0})},onError:function(e){re("value",{message:null===e||void 0===e?void 0:e.toString()})},renderInput:function(e){return(0,E.jsx)(p.Z,(0,t.Z)((0,t.Z)({required:W},e),{},{size:"small"}))}}):(0,E.jsx)(p.Z,(0,t.Z)((0,t.Z)({variant:S?"outlined":"standard",required:W,margin:"none",size:"small",fullWidth:!0,label:M,multiline:S,rows:T,onKeyDown:function(e){"Escape"===e.key&&(J(!1),ie("value",P,{shouldValidate:!0}))},InputProps:D?{startAdornment:(0,E.jsxs)(m.Z,{position:"start",children:["[",null===A||void 0===A?void 0:A.name,"]"]})}:void 0},$("value")),{},{error:"name"in ne,helperText:null===(n=ne.value)||void 0===n?void 0:n.message})),(0,E.jsxs)(u.Z,{direction:"row",sx:{my:1},children:[(0,E.jsx)(x.Z,{sx:{mx:.5,px:.5,minWidth:0},size:"small",color:"error",variant:"outlined",onClick:function(){J(!1),ie("value",P,{shouldValidate:!0})},children:(0,E.jsx)(b.SV5,{className:"text-lg"})}),(0,E.jsx)(d.Z,{disabled:Object.keys(ne).length>0,loading:H,sx:{mx:.5,px:.5,minWidth:0},size:"small",variant:"outlined",type:"submit",children:(0,E.jsx)(b.JMf,{className:"text-lg"})})]})]}):(0,E.jsxs)(u.Z,{direction:{md:"row",xs:"column"},spacing:2,sx:{display:X?"none":"flex"},alignItems:{md:"center",xs:"flex-start"},children:[(0,E.jsx)(f.Z,{fontWeight:"bold",variant:"body2",flex:"none",children:M}),(0,E.jsxs)(u.Z,{direction:"row",alignItems:"center",children:[V?V():L||"string"!==typeof P?(0,E.jsx)(f.Z,{children:P?"string"!==typeof P?(0,Z.Z)(P,"yyyy\u5e74MM\u6708dd\u65e5"):(0,Z.Z)(new Date(P),"yyyy\u5e74MM\u6708dd\u65e5"):"--"}):(0,E.jsx)(f.Z,{sx:{color:Boolean(P.trim())?"":"#aaa"},children:P.trim()||"\u672a\u8a2d\u5b9a"}),(0,E.jsx)(f.Z,{mx:1,children:C}),!R&&(0,E.jsx)(x.Z,{sx:{flex:"none",mx:1,p:.2,minWidth:0},size:"small",variant:"outlined",color:"info",onClick:function(){J(!0)},children:(0,E.jsx)(j.FNg,{className:"text-lg"})})]})]})})}},9809:function(e,n,i){i.r(n),i.d(n,{default:function(){return N}});var t=i(53767),r=i(20890),a=i(43859),o=i(61059),s=i(57689),l=i(11087),d=i(48367),c=i(1413),u=i(74165),p=i(15861),m=i(29439),x=i(44695),f=i(36151),v=i(27391),Z=i(45245),h=i(12457),g=i(72791),b=i(61134),j=i(94604),y=i(81724),w=i(80184);function I(){var e=(0,g.useState)(!1),n=(0,m.Z)(e,2),i=n[0],r=n[1],a=(0,g.useState)(!1),o=(0,m.Z)(a,2),s=o[0],l=o[1],I=(0,d.TL)(),N=y.Ry({name:y.Z_().required(),clientId:y.Z_().required(),tenantId:y.Z_().required(),displayName:y.Z_().required()}),E=(0,b.cI)({resolver:(0,x.X)(N),defaultValues:{name:"",clientId:"",tenantId:"",displayName:""}}),k=E.register,S=E.handleSubmit,T=E.formState.errors,M=function(){var e=(0,p.Z)((0,u.Z)().mark((function e(n){var i,t,a;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(!0),e.next=4,Z.o.create(n);case 4:i=e.sent,t=i.error,a=i.message,I(j.T9.addGlobalMessage({type:t?"error":"success",message:a})),r(!1);case 9:return e.prev=9,l(!1),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[0,,9,12]])})));return function(n){return e.apply(this,arguments)}}();return(0,w.jsxs)(t.Z,{children:[(0,w.jsx)(f.Z,{variant:"contained",size:"small",color:"success",sx:{minWidth:120},onClick:function(){return r(!i)},children:"\u65b0\u3057\u3044\u30c9\u30e1\u30a4\u30f3\u8ffd\u52a0"}),(0,w.jsx)(h.Z,{open:i,loading:s,handleClose:function(){return r(!1)},title:"\u30c9\u30e1\u30a4\u30f3\u8ffd\u52a0",disabled:Object.keys(T).length>0,primaryButtonText:"\u8ffd\u52a0",primaryButtonColor:"success",component:"form",maxWidth:"sm",handleSubmit:S(M),children:(0,w.jsxs)(t.Z,{gap:1,children:[(0,w.jsx)(v.Z,(0,c.Z)((0,c.Z)({variant:"standard",autoFocus:!0,required:!0,margin:"dense",fullWidth:!0,size:"small",label:"\u30c9\u30e1\u30a4\u30f3\u540d",placeholder:"ex:caa.go.jp",InputLabelProps:{shrink:!0}},k("name")),{},{error:"name"in T})),(0,w.jsx)(v.Z,(0,c.Z)((0,c.Z)({variant:"standard",required:!0,margin:"dense",fullWidth:!0,size:"small",label:"\u8868\u793a\u540d",placeholder:"ex:\u6d88\u8cbb\u8005\u5e81",InputLabelProps:{shrink:!0}},k("displayName")),{},{error:"displayName"in T})),(0,w.jsx)(v.Z,(0,c.Z)((0,c.Z)({variant:"standard",required:!0,margin:"dense",fullWidth:!0,size:"small",label:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8ID"},k("clientId")),{},{error:"clientId"in T})),(0,w.jsx)(v.Z,(0,c.Z)((0,c.Z)({variant:"standard",required:!0,margin:"dense",fullWidth:!0,size:"small",label:"\u30c6\u30ca\u30f3\u30c8ID"},k("tenantId")),{},{error:"tenantId"in T}))]})})]})}function N(){var e=(0,s.TH)(),n=(0,d.CG)((function(e){return e.UI.config})),i=(0,d.CG)((function(e){return e.UI.allowDomains}));return(0,w.jsxs)(t.Z,{children:[(0,w.jsx)(t.Z,{direction:"row",alignItems:"center",gap:2,sx:{p:1,bgcolor:"#ccc"},children:(0,w.jsx)(r.Z,{variant:"h6",children:"\u74b0\u5883\u5909\u6570"})}),(0,w.jsxs)(t.Z,{p:1,gap:1,mb:2,children:[(0,w.jsx)(o.Z,{label:"\u30d1\u30b9\u30ef\u30fc\u30c9\u30eb\u30fc\u30eb",value:n.passwordRole,apiEndpoint:"/api/config",fieldName:"passwordRole"}),(0,w.jsx)(o.Z,{label:"TokenAge",value:"".concat(Number(n.signinAge)/36e5),subText:"\u6642\u9593",apiEndpoint:"/api/config",fieldName:"signinAge"}),(0,w.jsx)(o.Z,{label:"CookieMaxAge",value:"".concat(Number(n.cookieMaxAge)/36e5),subText:"\u6642\u9593",apiEndpoint:"/api/config",fieldName:"cookieMaxAge"}),(0,w.jsx)(o.Z,{label:"\u30ed\u30c3\u30af\u6642\u9593",value:"".concat(Number(n.blockTime)/36e5),subText:"\u6642\u9593",apiEndpoint:"/api/config",fieldName:"blockTime"}),(0,w.jsx)(o.Z,{label:"\u30d1\u30b9\u30ef\u30fc\u30c9\u8a18\u61b6",value:n.passwordHistoryMax,apiEndpoint:"/api/config",subText:"\u56de",fieldName:"passwordHistoryMax"}),(0,w.jsx)(o.Z,{label:"\u30d1\u30b9\u30ef\u30fc\u30c9\u518d\u8a2d\u5b9a\u6642\u9593",value:"".concat(Number(n.requireUpdatePassTime)/864e5),apiEndpoint:"/api/config",subText:"\u65e5",fieldName:"requireUpdatePassTime"}),(0,w.jsx)(o.Z,{label:"\u30ed\u30b0\u30a4\u30f3\u5931\u6557\u6570",value:n.fallMax,subText:"\u56de",apiEndpoint:"/api/config",fieldName:"fallMax"})]}),(0,w.jsxs)(t.Z,{direction:"row",alignItems:"center",gap:2,sx:{p:1,bgcolor:"#ccc"},children:[(0,w.jsx)(r.Z,{variant:"h6",children:"\u4f7f\u7528\u30c9\u30e1\u30a4\u30f3"}),(0,w.jsx)(I,{})]}),(0,w.jsx)(t.Z,{p:1,gap:1,children:i.map((function(n){return(0,w.jsxs)(t.Z,{gap:1,direction:"row",sx:{p:1,border:"1px solid #ccc",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:[(0,w.jsxs)(t.Z,{flex:1,children:[(0,w.jsx)(o.Z,{label:"\u8868\u793a\u540d\uff1a",value:n.displayName,apiEndpoint:"/api/domain/".concat(n.id),fieldName:"displayName"}),(0,w.jsx)(o.Z,{label:"\u30c9\u30e1\u30a4\u30f3\uff1a",value:n.name,apiEndpoint:"/api/domain/".concat(n.id),fieldName:"name"}),(0,w.jsx)(o.Z,{label:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8ID\uff1a",value:n.clientId,apiEndpoint:"/api/domain/".concat(n.id),fieldName:"clientId"}),(0,w.jsx)(o.Z,{label:"\u30c6\u30ca\u30f3\u30c8ID\uff1a",value:n.tenantId,apiEndpoint:"/api/domain/".concat(n.id),fieldName:"tenantId"})]}),(0,w.jsx)(t.Z,{children:(0,w.jsx)(l.rU,{to:"/setting/domain/".concat(n.id,"/delete"),state:{location:e},children:(0,w.jsx)(a.Z,{text:"\u524a\u9664",sx:{width:150,py:"2px",fontSize:14}})})})]},n.id)}))})]})}},65661:function(e,n,i){var t=i(87462),r=i(63366),a=i(72791),o=i(28182),s=i(94419),l=i(20890),d=i(66934),c=i(31402),u=i(17673),p=i(85090),m=i(80184),x=["className","id"],f=(0,d.ZP)(l.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:function(e,n){return n.root}})({padding:"16px 24px",flex:"0 0 auto"}),v=a.forwardRef((function(e,n){var i=(0,c.Z)({props:e,name:"MuiDialogTitle"}),l=i.className,d=i.id,v=(0,r.Z)(i,x),Z=i,h=function(e){var n=e.classes;return(0,s.Z)({root:["root"]},u.a,n)}(Z),g=a.useContext(p.Z).titleId,b=void 0===g?d:g;return(0,m.jsx)(f,(0,t.Z)({component:"h2",className:(0,o.Z)(h.root,l),ownerState:Z,ref:n,variant:"h6",id:null!=d?d:b},v))}));n.Z=v},63466:function(e,n,i){i.d(n,{Z:function(){return w}});var t=i(4942),r=i(63366),a=i(87462),o=i(72791),s=i(28182),l=i(94419),d=i(14036),c=i(20890),u=i(93840),p=i(52930),m=i(66934),x=i(75878),f=i(21217);function v(e){return(0,f.Z)("MuiInputAdornment",e)}var Z,h=(0,x.Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),g=i(31402),b=i(80184),j=["children","className","component","disablePointerEvents","disableTypography","position","variant"],y=(0,m.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:function(e,n){var i=e.ownerState;return[n.root,n["position".concat((0,d.Z)(i.position))],!0===i.disablePointerEvents&&n.disablePointerEvents,n[i.variant]]}})((function(e){var n=e.theme,i=e.ownerState;return(0,a.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(n.vars||n).palette.action.active},"filled"===i.variant&&(0,t.Z)({},"&.".concat(h.positionStart,"&:not(.").concat(h.hiddenLabel,")"),{marginTop:16}),"start"===i.position&&{marginRight:8},"end"===i.position&&{marginLeft:8},!0===i.disablePointerEvents&&{pointerEvents:"none"})})),w=o.forwardRef((function(e,n){var i=(0,g.Z)({props:e,name:"MuiInputAdornment"}),t=i.children,m=i.className,x=i.component,f=void 0===x?"div":x,h=i.disablePointerEvents,w=void 0!==h&&h,I=i.disableTypography,N=void 0!==I&&I,E=i.position,k=i.variant,S=(0,r.Z)(i,j),T=(0,p.Z)()||{},M=k;k&&T.variant,T&&!M&&(M=T.variant);var C=(0,a.Z)({},i,{hiddenLabel:T.hiddenLabel,size:T.size,disablePointerEvents:w,position:E,variant:M}),z=function(e){var n=e.classes,i=e.disablePointerEvents,t=e.hiddenLabel,r=e.position,a=e.size,o=e.variant,s={root:["root",i&&"disablePointerEvents",r&&"position".concat((0,d.Z)(r)),o,t&&"hiddenLabel",a&&"size".concat((0,d.Z)(a))]};return(0,l.Z)(s,v,n)}(C);return(0,b.jsx)(u.Z.Provider,{value:null,children:(0,b.jsx)(y,(0,a.Z)({as:f,ownerState:C,className:(0,s.Z)(z.root,m),ref:n},S,{children:"string"!==typeof t||N?(0,b.jsxs)(o.Fragment,{children:["start"===E?Z||(Z=(0,b.jsx)("span",{className:"notranslate",children:"\u200b"})):null,t]}):(0,b.jsx)(c.Z,{color:"text.secondary",children:t})}))})}))},36459:function(e,n,i){function t(e){if(null==e)throw new TypeError("Cannot destructure "+e)}i.d(n,{Z:function(){return t}})}}]);
//# sourceMappingURL=9809.39f67edf.chunk.js.map