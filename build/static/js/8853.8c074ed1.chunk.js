"use strict";(self.webpackChunkcaa_client=self.webpackChunkcaa_client||[]).push([[8853],{98853:function(e,n,t){t.r(n),t.d(n,{default:function(){return m}});var r=t(74165),o=t(15861),a=t(29439),i=t(20890),u=t(27391),c=t(36151),l=t(59369),s=t(52791),p=t(20741),f=t(72791),d=t(57689),h=t(48367),v=t(80184);function m(){var e=(0,h.CG)((function(e){return e.UI.loginInfo})),n=(0,f.useState)(""),t=(0,a.Z)(n,2),m=t[0],x=t[1],g=(0,h.aC)().verifyToken,C=(0,d.s0)();if((0,f.useEffect)((function(){e&&e.otpauthUrl&&e.otpSecret?p.toCanvas(e.otpauthUrl).then((function(e){var n=document.getElementById("qr-code");n&&(n.innerHTML="",n.appendChild(e))})):C("/login")}),[e,C]),!e)return null;var Z=function(){var n=(0,o.Z)((0,r.Z)().mark((function n(){var t,o,a;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=e.email,o=e.password,a=e.otpSecret,n.next=4,g(t,o,"".concat(a),m);case 4:n.next=8;break;case 6:n.prev=6,n.t0=n.catch(0);case 8:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(){return n.apply(this,arguments)}}();return(0,v.jsxs)(l.Z,{justifyContent:"center",alignItems:"center",children:[(0,v.jsx)(s.Z,{id:"qr-code",sx:{border:"1px solid #eee"}}),(0,v.jsxs)(l.Z,{gap:1,component:"form",noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),e.stopPropagation(),Z()},children:[(0,v.jsx)(i.Z,{children:"\u30a2\u30d7\u30ea\u306b\u767b\u9332\u3057\u305f\u3046\u3048\u3067\u3001\u4e0b\u306e\u30b3\u30fc\u30c9\u5165\u529b\u3092\u3057\u3066\u304f\u3060\u3055\u3044"}),(0,v.jsx)(u.Z,{variant:"outlined",required:!0,margin:"dense",fullWidth:!0,size:"small",label:"\u30b3\u30fc\u30c9",autoFocus:!0,autoComplete:"on",placeholder:"6\u6841\u306e\u6570\u5b57\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044",value:m,onChange:function(e){x(e.target.value)}}),(0,v.jsx)(c.Z,{variant:"outlined",type:"submit",children:"\u30b3\u30fc\u30c9\u8a8d\u8a3c"}),(0,v.jsx)(c.Z,{color:"info",sx:{marginTop:"3em"},variant:"outlined",onClick:function(){return window.open("/login/guide-otp","_blank")},children:"Authenticator\u30a2\u30d7\u30ea\u767b\u9332\u65b9\u6cd5"})]})]})}}}]);
//# sourceMappingURL=8853.8c074ed1.chunk.js.map